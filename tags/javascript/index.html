<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en-us><head itemscope itemtype=https://hugo.leonardofaria.net><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:locale" content="en"><meta name=language content="en"><title itemprop=name>javascript &#183; Leonardo Faria</title><meta property="og:title" content="javascript &#183; Leonardo Faria"><meta name=twitter:title content="javascript &#183; Leonardo Faria"><meta itemprop=name content="javascript &#183; Leonardo Faria"><meta name=application-name content="Leonardo Faria"><meta property="og:site_name" content="Leonardo Faria"><base href=https://hugo.leonardofaria.net/tags/javascript/><link rel=canonical href=https://hugo.leonardofaria.net/tags/javascript/ itemprop=url><meta name=url content="https://hugo.leonardofaria.net/tags/javascript/"><meta name=twitter:url content="https://hugo.leonardofaria.net/tags/javascript/"><meta property="og:url" content="https://hugo.leonardofaria.net/tags/javascript/"><meta itemprop=image content="https://hugo.leonardofaria.net/images/og_image.jpg"><meta property="og:image" content="https://hugo.leonardofaria.net/images/og_image.jpg"><meta name=twitter:image content="https://hugo.leonardofaria.net/images/og_image.jpg"><meta name=twitter:image:src content="https://hugo.leonardofaria.net/images/og_image.jpg"><meta name=twitter:card content="summary_large_image"><meta property="og:type" content="website"><meta itemprop=description content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta property="og:description" content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta name=description content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta name=twitter:description content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta property="og:updated_time" content="2022-02-07T01:00:00Z"><meta name=generator content="Hugo 0.73.0"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel=stylesheet><link rel=stylesheet href=https://hugo.leonardofaria.net/css/styles.min.0f1a07fa6013988f3640ab8076347106f984a80a42c9bd9b2009cfda32a8e9a3.css integrity="sha256-DxoH+mATmI82QKuAdjRxBvmEqApCyb2bIAnP2jKo6aM="><link href=/index.xml rel=alternate type=application/rss+xml title="Leonardo Faria"><link href=/tags/javascript/index.xml rel=alternate type=application/rss+xml title="javascript &#183; Leonardo Faria"><script src=https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js></script><link rel=webmention href=https://webmention.io/leonardofaria.net/webmention><link rel=pingback href=https://webmention.io/leonardofaria.net/xmlrpc><script src=https://hugo.leonardofaria.net/js/webmentions.min.08cc9bae8a99aae297e64b2c62dafb59df5b79edbd86de6b52528a752a4cd499.js type=text/javascript></script></head><body class="bg-gradient flex flex-col min-h-screen"><header id=header class="w-full m-0 fixed z-10 transition-all duration-300 ease-in-out border-t-4 border-gray-300 backdrop-filter-blur"><div id=header-container class="max-w-7xl mx-auto p-6 flex items-center flex-wrap lg:flex-no-wrap relative justify-between"><a href=https://hugo.leonardofaria.net/ class="tracking-tighter leading-10 text-3xl font-semibold text-gray-600 flex flex-shrink-0">Leonardo Faria</a><div class="block lg:hidden mx-2"><button class="nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg></button>
<button class="hidden nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Close menu</title><polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2" transform="rotate(45 10 10)"/></svg></button></div><div class="absolute right-8 top-16 lg:relative lg:right-0 lg:top-0 flex flex-col lg:flex-row items-center rounded-md bg-white shadow lg:bg-transparent lg:shadow-none"><nav id=nav-social-links class="p-4 lg:p-0 text-gray-600 hidden lg:block lg:order-last w-full lg:w-auto lg:ml-3"><ul class="flex justify-end"><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Twitter href=https://www.twitter.com/leozera rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Twitter</title><path d="M6.29 18.25c7.55.0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12.0 001.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1.0 00-7 3.74 11.65 11.65.0 01-8.45-4.3 4.1 4.1.0 001.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1.0 003.3 4.03 4.1 4.1.0 01-1.86.07 4.1 4.1.0 003.83 2.85A8.23 8.23.0 010 16.4a11.62 11.62.0 006.29 1.84"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Github href=https://www.github.com/leonardofaria rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>GitHub</title><path d="M10 0A10 10 0 006.84 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94.0-1.1.39-1.99 1.03-2.69a3.6 3.6.0 01.1-2.64s.84-.27 2.75 1.02a9.58 9.58.0 015 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69.0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0010 0"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Linkedin href=https://linkedin.com/in/leonardofariacoelho rel=me><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Email href=mailto:leonardofaria@gmail.com><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Feed href=/feed><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS</title><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg></a></li></ul></nav><nav id=nav-menu class="p-4 lg:p-0 hidden lg:block w-full lg:w-auto text-gray-600"><ul class="w-full flex flex-col lg:flex-row justify-end items-end lg:items-center"><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Archives class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/archives>Archives</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Portfolio class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/portfolio>Portfolio</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Talks class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/talks>Talks</a></li></ul></nav></div></div></header><main class="flex-1 mt-12 max-w-3xl mt-32 mx-auto text-gray-700 w-full"><div id=reading-progress-bar role=presentation class="fixed z-10 top-0 left-0 h-1 bg-gray-700"></div><article class=article><h1><a href=https://hugo.leonardofaria.net/tags/javascript/ class=no-underline>Posts with the tag: javascript</a></h1><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2022/02/07/building-typescript-definitions-on-demand/ class=no-underline>Building TypeScript definitions on demand</a></h2><small class="block text-right text-sm">Read in 4 minutes &#183;
<time datetime=2022-02-07T01:00:00+00:00>February 7, 2022</time></small><p>I recently came across an interesting problem: is it possible to dynamically create TypeScript definitions for a React component library that doesn&rsquo;t use TypeScript at all? Something like a DefinitelyTyped package for a private NPM package?
The problem Let me detail the problem a bit better. Consider the Button component below:
import PropTypes from "prop-types"; const Button = ({ appearance, children, ...props }) => { return ( &lt;button className={`button--${appearance}`} {...props}> {children} &lt;/button> ); }; Button.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/11/30/my-experience-using-lighthouse-in-the-real-world/ class=no-underline>My experience using Lighthouse in the real world</a></h2><small class="block text-right text-sm">Read in 5 minutes &#183;
<time datetime=2020-11-30T05:00:00+00:00>November 30, 2020</time></small><p>Lighthouse has been part of my daily work for the last few months and I shared some snippets in my last few posts. For this particular post, it is time to share how I am using Lighthouse in a product used by millions of people and what I have discovered during this process.
Disclaimers: 1. This content may be reviewed in the future as I learn more about web performance and Lighthouse; 2.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/11/30/creating-har-files-with-lighthouse/ class=no-underline>Creating HAR files with Lighthouse</a></h2><small class="block text-right text-sm">Read in 3 minutes &#183;
<time datetime=2020-11-30T04:00:00+00:00>November 30, 2020</time></small><p>HAR (HTTP Archive) is a JSON file containing all information about a browser’s interactions with a page. This file is often used for performance analysis. Earlier this year, I shared what kind of information we can get from and today we will automate the HAR creation.
There are different ways to automate the HAR creation: puppeteer-har is a NPM package you can add in your tooling or if you are not from the JavaScript world you can use Selenium.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/11/30/getting-web-vitals-information-with-lighthouse/ class=no-underline>Generating Web Vitals information with Lighthouse</a></h2><small class="block text-right text-sm">Read in 5 minutes &#183;
<time datetime=2020-11-30T03:00:00+00:00>November 30, 2020</time></small><p>Earlier this year, Google announced that “page experience” would impact its search ranking. A few weeks ago, they announced that the new page experience signals will roll out in May 2021. But what are these page experience signals?
The page experience signal measures aspects of how users perceive the experience of interacting with a web page. Offering mobile-friendly pages and serving content over HTTPS is something we have been doing for a while but soon slow sites may lose their spot in the Google page ranking algorithm.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/11/30/generating-screenshots-with-lighthouse/ class=no-underline>Generating screenshots with Lighthouse</a></h2><small class="block text-right text-sm">Read in 2 minutes &#183;
<time datetime=2020-11-30T02:00:00+00:00>November 30, 2020</time></small><p>Lighthouse captures the rendering timeline of a page in 10 images. Do you need to store them? If yes, keep reading in order to learn how to store these images.
The filmstrip above reveals how a page is rendered in a browser and gives us an opportunity to understand what is slow. For example, blank screenshots in the beginning is a sign that the First Contentful Paint is too slow.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/11/30/getting-asset-transferred-information-with-lighthouse/ class=no-underline>Getting asset transferred information with Lighthouse</a></h2><small class="block text-right text-sm">Read in 3 minutes &#183;
<time datetime=2020-11-30T01:00:00+00:00>November 30, 2020</time></small><p>Have you ever about thought tracking what is added to a page or web app? Did not know how your website became 15MB? Sounds like it is time to track this data!
Calibre, one of my favourite web performance tools, creates charts, such as the one above, to illustrate what is being transferred to users when they visit your page or use your web app.
Hi! This post is part of a Lighthouse post series.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/11/30/the-undocumented-lighthouse-guide/ class=no-underline>The undocumented Lighthouse guide</a></h2><small class="block text-right text-sm">Read in 4 minutes &#183;
<time datetime=2020-11-30T00:00:00+00:00>November 30, 2020</time></small><p>Lighthouse is the go-to tool for improving the quality of web pages. Lately, I have been using Lighthouse a lot at work to identify opportunities for performance optimizations. This post is part of a 6 part series that I have written about how to get the most out of Lighthouse.
Lighthouse Post Series Quick Lighthouse intro The Lighthouse Node package Getting asset transferred information with Lighthouse Generating screenshots with Lighthouse Getting Web Vitals information with Lighthouse Generating HAR files with Lighthouse My experience using Lighthouse in the real world Quick Lighthouse intro Lighthouse is an open-source automated tool for auditing the quality of web pages.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/08/13/automating-accessibility-tests-with-cypress/ class=no-underline>Automating accessibility tests with Cypress</a></h2><small class="block text-right text-sm">Read in 6 minutes &#183;
<time datetime=2020-08-13T00:00:00+00:00>August 13, 2020</time></small><p>In my previous post, I covered how to add screenshot testing in Cypress to ensure components unintentionally change over time. Now, I will share how to automate accessibility tests with Cypress.
Why should we care about accessibility? Short answer: because it is the right thing to do.
Long answer: an accessible web can help people with disabilities improve their lives. There are different kinds of disabilities, including auditory, cognitive, neurological, physical, speech and visual and our goal as product creators, engineers, designers is creating experiences that can include all people.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/08/03/adding-screenshot-testing-with-cypress-in-your-project/ class=no-underline>Adding screenshot testing with Cypress in your project</a></h2><small class="block text-right text-sm">Read in 8 minutes &#183;
<time datetime=2020-08-03T00:00:00+00:00>August 3, 2020</time></small><p>Developers are usually concerned about the quality of their code. There are different kinds of tests to avoid breaking code when a new feature is added in a project, however, what can be done to ensure that components don&rsquo;t look different over time?
In this post, you will learn how to use Cypress to capture parts of pages of a website and after that, you will integrate the testing tool in CI to ensure that in the future no one will bring unwanted changes in the project.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/2020/06/16/creating-your-own-eslint-config-package/ class=no-underline>Creating your own ESLint config package</a></h2><small class="block text-right text-sm">Read in 3 minutes &#183;
<time datetime=2020-06-16T00:00:00+00:00>June 16, 2020</time></small><p>ESLint is a powerful tool to enforce consistent coding conventions and ensure quality in your JavaScript codebase. Coding conventions are sometimes difficult to decide and having a tool to automate enforcement is great to avoid unnecessary discussions. Ensuring quality is also a welcoming feature: linters are excellent tools for catching bugs, such as those related to variable scope.
ESLint is designed to be completely configurable, giving you the option of enabling/disabling each rule, or mixing the rules to match your needs.</p></div></article><nav aria-label="Page navigation"><ul class="mt-2 flex justify-center"><li><span class="m-2 p-2 opacity-25">First</span></li><li><span class="m-2 p-2 opacity-25">Prev</span></li><li><span class="m-2 p-2 font-bold" href=/tags/javascript/>1</span></li><li><a class="m-2 p-2" href=/tags/javascript/page/2/>2</a></li><li><a class="m-2 p-2" href=/tags/javascript/page/3/>3</a></li><li><a class="m-2 p-2" href=/tags/javascript/page/2/ rel=next>Next</a></li><li><a class="m-2 p-2" href=/tags/javascript/page/3/>Last</a></li></ul></nav></main><footer class="w-full max-w-7xl mx-auto text-center border-t border-gray-200 py-9 px-3 mt-9 pin-b text-sm text-gray-500">Made with <a href=https://gohugo.io class="underline transition duration-300 ease-in-out hover:text-blue-600">Hugo</a> and <a href=https://github.com/leonardofaria/bento class="underline transition duration-300 ease-in-out hover:text-blue-600">Bento theme</a>.</footer><script>var initMenu=()=>{var navButtons=document.querySelectorAll('.nav-button');var navMenu=document.querySelector('#nav-menu');var navSocialLinks=document.querySelector('#nav-social-links');for(var button of navButtons){button.addEventListener('click',()=>{console.log('click')
navMenu.classList.toggle("hidden");if(navSocialLinks){navSocialLinks.classList.toggle("hidden");}
for(var navButton of navButtons){navButton.classList.toggle("hidden");};});}}
document.addEventListener('turbolinks:load',initMenu());</script><script>var initHeader=()=>{let scrollPos=window.scrollY;var header=document.querySelector('#header');var headerContainer=document.querySelector("#header-container");var readingProgressBar=document.querySelector("#reading-progress-bar");let scrollTop=0;let scrollBottom=0;let scrollPercent=0;var addClassOnScroll=()=>{header.classList.add("shadow");header.classList.add("bg-white-90");}
var removeClassOnScroll=()=>{header.classList.remove("shadow");header.classList.remove("bg-white-90");}
window.onscroll=function(){scrollPos=window.scrollY;scrollTop=document.documentElement["scrollTop"]||document.body["scrollTop"];scrollBottom=(document.documentElement["scrollHeight"]||document.body["scrollHeight"])-document.documentElement.clientHeight;scrollPercent=scrollTop/scrollBottom*100;readingProgressBar.style.width=(scrollTop/scrollBottom*100)+'%';if(scrollPos>0){addClassOnScroll()}
else{removeClassOnScroll()}}}
document.addEventListener('turbolinks:load',initHeader());</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-157386-6','auto');ga('send','pageview');}</script><script async defer data-website-id=ef25ee64-202b-4378-822f-22398533a59c src=https://umami.leonardofaria.net/umami.js></script></body></html>