<!doctype html><html prefix="og: http://ogp.me/ns#" lang=en-us><head itemscope itemtype=https://leonardofaria.github.io/leonardofaria.net><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:locale" content="en"><meta name=language content="en"><title itemprop=name>rubyonrails &#183; Leonardo Faria</title><meta property="og:title" content="rubyonrails &#183; Leonardo Faria"><meta name=twitter:title content="rubyonrails &#183; Leonardo Faria"><meta itemprop=name content="rubyonrails &#183; Leonardo Faria"><meta name=application-name content="Leonardo Faria"><meta property="og:site_name" content="Leonardo Faria"><base href=https://leonardofaria.github.io/leonardofaria.net/tags/rubyonrails/><link rel=canonical href=https://leonardofaria.github.io/leonardofaria.net/tags/rubyonrails/ itemprop=url><meta name=url content="https://leonardofaria.github.io/leonardofaria.net/tags/rubyonrails/"><meta name=twitter:url content="https://leonardofaria.github.io/leonardofaria.net/tags/rubyonrails/"><meta property="og:url" content="https://leonardofaria.github.io/leonardofaria.net/tags/rubyonrails/"><meta itemprop=image content="https://leonardofaria.github.io/leonardofaria.net/images/og_image.jpg"><meta property="og:image" content="https://leonardofaria.github.io/leonardofaria.net/images/og_image.jpg"><meta name=twitter:image content="https://leonardofaria.github.io/leonardofaria.net/images/og_image.jpg"><meta name=twitter:image:src content="https://leonardofaria.github.io/leonardofaria.net/images/og_image.jpg"><meta name=twitter:card content="summary_large_image"><meta property="og:type" content="website"><meta itemprop=description content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta property="og:description" content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta name=description content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta name=twitter:description content="I am Leonardo Faria, a Brazilian developer living in Vancouver. This is my blog about software development and more since 2005."><meta property="og:updated_time" content="2019-11-04T01:40:07-0300"><meta name=generator content="Hugo 0.73.0"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel=stylesheet><link rel=stylesheet href=https://leonardofaria.github.io/leonardofaria.net/css/styles.min.0f1a07fa6013988f3640ab8076347106f984a80a42c9bd9b2009cfda32a8e9a3.css integrity="sha256-DxoH+mATmI82QKuAdjRxBvmEqApCyb2bIAnP2jKo6aM="><link href=/leonardofaria.net/index.xml rel=alternate type=application/rss+xml title="Leonardo Faria"><link href=/leonardofaria.net/tags/rubyonrails/index.xml rel=alternate type=application/rss+xml title="rubyonrails &#183; Leonardo Faria"><script src=https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js></script><link rel=webmention href=https://webmention.io/leonardofaria.net/webmention><link rel=pingback href=https://webmention.io/leonardofaria.net/xmlrpc><script src=https://leonardofaria.github.io/leonardofaria.net/js/webmentions.min.08cc9bae8a99aae297e64b2c62dafb59df5b79edbd86de6b52528a752a4cd499.js type=text/javascript></script></head><body class="bg-gradient flex flex-col min-h-screen"><header id=header class="w-full m-0 fixed z-10 transition-all duration-300 ease-in-out border-t-4 border-gray-300 backdrop-filter-blur"><div id=header-container class="max-w-7xl mx-auto p-6 flex items-center flex-wrap lg:flex-no-wrap relative justify-between"><a href=https://leonardofaria.github.io/leonardofaria.net/ class="tracking-tighter leading-10 text-3xl font-semibold text-gray-600 flex flex-shrink-0">Leonardo Faria</a><div class="block lg:hidden mx-2"><button class="nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg></button>
<button class="hidden nav-button w-10 h-10 justify-center flex items-center opacity-75 hover:opacity-100 transition duration-300 ease-in-out"><svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Close menu</title><polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2" transform="rotate(45 10 10)"/></svg></button></div><div class="absolute right-8 top-16 lg:relative lg:right-0 lg:top-0 flex flex-col lg:flex-row items-center rounded-md bg-white shadow lg:bg-transparent lg:shadow-none"><nav id=nav-social-links class="p-4 lg:p-0 text-gray-600 hidden lg:block lg:order-last w-full lg:w-auto lg:ml-3"><ul class="flex justify-end"><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Twitter href=https://www.twitter.com/leozera rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Twitter</title><path d="M6.29 18.25c7.55.0 11.67-6.25 11.67-11.67v-.53c.8-.59 1.49-1.3 2.04-2.13-.75.33-1.54.55-2.36.65a4.12 4.12.0 001.8-2.27c-.8.48-1.68.81-2.6 1a4.1 4.1.0 00-7 3.74 11.65 11.65.0 01-8.45-4.3 4.1 4.1.0 001.27 5.49C2.01 8.2 1.37 8.03.8 7.7v.05a4.1 4.1.0 003.3 4.03 4.1 4.1.0 01-1.86.07 4.1 4.1.0 003.83 2.85A8.23 8.23.0 010 16.4a11.62 11.62.0 006.29 1.84"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Github href=https://www.github.com/leonardofaria rel=me><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>GitHub</title><path d="M10 0A10 10 0 006.84 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94.0-1.1.39-1.99 1.03-2.69a3.6 3.6.0 01.1-2.64s.84-.27 2.75 1.02a9.58 9.58.0 015 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69.0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0010 0"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Linkedin href=https://linkedin.com/in/leonardofariacoelho rel=me><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Email href=mailto:leonardofaria@gmail.com><svg class="fill-current w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></a></li><li><a class="block p-2 opacity-75 hover:opacity-100 transition duration-300 ease-in-out" title=Feed href=/feed><svg class="fill-current w-5 h-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS</title><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg></a></li></ul></nav><nav id=nav-menu class="p-4 lg:p-0 hidden lg:block w-full lg:w-auto text-gray-600"><ul class="w-full flex flex-col lg:flex-row justify-end items-end lg:items-center"><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Archives class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/leonardofaria.net/archives>Archives</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Portfolio class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/leonardofaria.net/portfolio>Portfolio</a></li><li class="flex my-2 lg:my-2 mx-1 lg:mx-2"><a title=Talks class="uppercase font-bold lg:py-2 lg:px-3 rounded text-sm opacity-75 hover:opacity-100 transition duration-300 ease-in-out" href=/leonardofaria.net/talks>Talks</a></li></ul></nav></div></div></header><main class="flex-1 mt-12 max-w-3xl mt-32 mx-auto text-gray-700 w-full"><div id=reading-progress-bar role=presentation class="fixed z-10 top-0 left-0 h-1 bg-gray-700"></div><article class=article><h1><a href=https://leonardofaria.github.io/leonardofaria.net/tags/rubyonrails/ class=no-underline>Posts with the tag: rubyonrails</a></h1><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2019/11/04/a-simple-sinatra-auth/ class=no-underline>A simple Sinatra Auth</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2019-11-04T01:40:07-03:00>November 4, 2019</time></small><p>Imagine you want to protect the content of a website created with Next.js, Hugo or your favourite static site generator. Github doesn&rsquo;t offer this feature or Netlify offers authentication only in their paid plans. Decided to create something simple with Sinatra, TailwindCSS and ready to go in Heroku.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2016/07/26/todo-list-using-sinatra-rest-api/ class=no-underline>Todo list using a Sinatra REST API</a></h2><small class="block text-right text-sm">Read in 6 minutes &#183;
<time datetime=2016-07-26T19:01:16-03:00>July 26, 2016</time></small><p><p>I am attending to a <a href=http://langara.ca/programs-and-courses/programs/web-and-mobile-app/index.html>post-degree program</a> and one of its courses is Server-Side Scripting. The professor gave us a project which students should create a project and my colleague and I created a <a href=http://sinatra-todo-api.herokuapp.com>Sinatra REST API</a> for a <a href=http://leonardofaria.github.io/todo>todo list application</a>.</p><p><img src=/wp-content/uploads/2016/07/todo.gif alt></p></p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2015/08/26/codestacker-in-github/ class=no-underline>codestacker in Github</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2015-08-26T19:26:00-03:00>August 26, 2015</time></small><p>Some years ago, precisely on July/2008 I created codestacker. I know, there were several options to collect snippets, but I decided to code my own solution. More than that I have planned to develop a Textmate bundle and a Mac OS Widget (who cares?), however I did not code these functions.
In the latest days, I migrated all old data to a new app written in Rails 4.2 and hosted on Heroku.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2014/09/10/curiosidade-ruby-do-dia-strings/ class=no-underline>Curiosidade Ruby do dia #3: Strings</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2014-09-10T23:14:28-03:00>September 10, 2014</time></small><p>Strings são, em qualquer linguagem, cadeias de caracteres. Em Ruby, você pode acessar o conteúdo de uma string de forma semelhante a um array, exemplo:
message = "Hello World" puts message[0,5] # Hello É possível substituir uma palavra de dentro de uma string como se ela fosse um elemento de um array, veja:
message = "I like cats" puts message # I like cats message["cats"] = "dogs" puts message # I like dogs Uma exceção será disparada caso você tente substituir algo que não existe na string:</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2011/08/31/geracao-de-pdfs-indolor-no-rails-3/ class=no-underline>Geração de PDFs indolor no Rails 3</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2011-08-31T00:50:10-03:00>August 31, 2011</time></small><p>Em um trabalho recente, precisei gerar relatórios em PDF. Considerei algumas soluções e optei por uma que não me fizesse perder os cabelos e reescrever código: wicked_pdf.
wicked_pdf usa wkhtmltopdf, um incrível utilitário que converte HTML para PDF, usando Webkit e QT. Você não precisa compilá-lo, basta apenas copiar o binário certo do site do projeto.
Uso Após instalar a gem em seu sistema, você pode gerar os PDFs sem escovar bits: adicione o formato pdf entre as possibilidades de respostas de uma action, como abaixo:</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2011/06/05/validacoes-personalizadas-no-rails-3/ class=no-underline>Validações personalizadas no Rails 3</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2011-06-05T22:55:12-03:00>June 5, 2011</time></small><p>O método validates do Rails 3 agrupou os antigos métodos de validação do Rails 2. Na versão 3, usamos o método validates acompanhado do atributo a ser validado e de suas respectivas regras de validação. Trabalhando em um novo projeto necessito validar CPFs e CNPJs, e consequentemente, precisei criar validações adicionais. Esse post mostra como realizei isso.
Inicialmente, criei na pasta lib/ o arquivo my_validations.rb, com o seguinte conteúdo:
class MyValidations &lt; ActiveModel::Validator def validate(record) record.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2011/01/25/novo-micro-projeto-guia-da-tv/ class=no-underline>Novo micro-projeto: Guia da TV</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2011-01-25T18:33:40-02:00>January 25, 2011</time></small><p>Aproveitei algumas horas das minhas férias e lancei um novo micro-projeto: Guia da TV. O Guia da TV permite você saber quais programas estão para começar.
Algumas coisas ainda serão aprimoradas, mas o aplicativo já está em produção. Ele foi feito com Rails 3 e algumas pitadas de jQuery em sua interface. O conteúdo é fornecido pela Revista Eletrônica. Se você gosta de ver TV, use-o e o recomende no Facebook ;)</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2010/10/09/novo-micro-projeto-horoscopo-no-msn/ class=no-underline>Novo micro-projeto: HORÓSCOPO NO MSN</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2010-10-09T20:16:04-03:00>October 9, 2010</time></small><p>Chegou mais um serviço de utilidade pública feita por mim. Depois do codestacker, autosimulado e xavecator, por acaso tive contato com algumas coisinhas do protocolo do MSN e desse contato saiu o Horóscopo por MSN. Horóscopo por MSN foi uma aplicação escrita em algumas noites e seu nome já diz tudo: você recebe o horóscopo do dia em seu MSN.
Funciona assim: você adiciona na sua lista de AmIgUxOs o contato horoscopo@leonardofaria.</p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2009/12/05/monografia-on-rails-autosimulado/ class=no-underline>Monografia on Rails: autosimulado</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2009-12-05T21:00:36-02:00>December 5, 2009</time></small><p><p>Para conclusão do meu curso de Sistemas de Informação, dediquei minha monografia e trabalho de conclusão de curso ao <a href=http://www.autosimulado.com.br>autosimulado</a>.</p><p>Hoje foi a apresentação da banca do trabalho de conclusão de curso e anexo abaixo minha <a href=/pub/monografia.pdf>monografia em PDF</a> e os <a href=/pub/monografia-slides.pdf>slides da apresentação</a>.</p></p></div><div class="border-b border-gray-400"><h2 class="text-3xl font-bold mb-0"><a href=/leonardofaria.net/2009/12/02/syntax-highlight-on-rails/ class=no-underline>Syntax Highlight on Rails</a></h2><small class="block text-right text-sm">Read in 1 minute &#183;
<time datetime=2009-12-02T20:52:12-02:00>December 2, 2009</time></small><p>Quer fazer um syntax highlight igual ao do codestacker abaixo, a la Textmate? É fácil:
Faça o download da biblioteca de expressões regulares Oniguruma. A versão mais recente é a 5.9.1. Compile-a:
./configure && make && make install Após isso instale as gems Oniguruma, Textpow e Ultraviolet e instale o plugin tm_syntax_highlighting em seu projeto.
Em suas views, utilize:
code(some_ruby_code, :theme => "twilight", :lang => "ruby", :line_numbers => true)</p></div></article><nav aria-label="Page navigation"><ul class="mt-2 flex justify-center"><li><span class="m-2 p-2 opacity-25">First</span></li><li><span class="m-2 p-2 opacity-25">Prev</span></li><li><span class="m-2 p-2 font-bold" href=/leonardofaria.net/tags/rubyonrails/>1</span></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/2/>2</a></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/3/>3</a></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/4/>4</a></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/5/>5</a></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/6/>6</a></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/7/>7</a></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/2/ rel=next>Next</a></li><li><a class="m-2 p-2" href=/leonardofaria.net/tags/rubyonrails/page/7/>Last</a></li></ul></nav></main><footer class="w-full max-w-7xl mx-auto text-center border-t border-gray-200 py-9 px-3 mt-9 pin-b text-sm text-gray-500">Made with <a href=https://gohugo.io class="underline transition duration-300 ease-in-out hover:text-blue-600">Hugo</a> and <a href=https://github.com/leonardofaria/bento class="underline transition duration-300 ease-in-out hover:text-blue-600">Bento theme</a>.</footer><script>var initMenu=()=>{var navButtons=document.querySelectorAll('.nav-button');var navMenu=document.querySelector('#nav-menu');var navSocialLinks=document.querySelector('#nav-social-links');for(var button of navButtons){button.addEventListener('click',()=>{console.log('click')
navMenu.classList.toggle("hidden");if(navSocialLinks){navSocialLinks.classList.toggle("hidden");}
for(var navButton of navButtons){navButton.classList.toggle("hidden");};});}}
document.addEventListener('turbolinks:load',initMenu());</script><script>var initHeader=()=>{let scrollPos=window.scrollY;var header=document.querySelector('#header');var headerContainer=document.querySelector("#header-container");var readingProgressBar=document.querySelector("#reading-progress-bar");let scrollTop=0;let scrollBottom=0;let scrollPercent=0;var addClassOnScroll=()=>{header.classList.add("shadow");header.classList.add("bg-white-90");}
var removeClassOnScroll=()=>{header.classList.remove("shadow");header.classList.remove("bg-white-90");}
window.onscroll=function(){scrollPos=window.scrollY;scrollTop=document.documentElement["scrollTop"]||document.body["scrollTop"];scrollBottom=(document.documentElement["scrollHeight"]||document.body["scrollHeight"])-document.documentElement.clientHeight;scrollPercent=scrollTop/scrollBottom*100;readingProgressBar.style.width=(scrollTop/scrollBottom*100)+'%';if(scrollPos>0){addClassOnScroll()}
else{removeClassOnScroll()}}}
document.addEventListener('turbolinks:load',initHeader());</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-157386-6','auto');ga('send','pageview');}</script><script async defer data-website-id=ef25ee64-202b-4378-822f-22398533a59c src=https://umami.leonardofaria.net/umami.js></script></body></html>