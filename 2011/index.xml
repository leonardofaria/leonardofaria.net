<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>2011s on Leonardo Faria</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/</link><description>Recent content in 2011s on Leonardo Faria</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 07 Oct 2011 22:59:30 -0300</lastBuildDate><atom:link href="http://leonardofaria.github.io/leonardofaria.net/2011/index.xml" rel="self" type="application/rss+xml"/><item><title>eCPF no Mac</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/10/07/ecpf-no-mac/</link><pubDate>Fri, 07 Oct 2011 22:59:30 -0300</pubDate><guid>http://leonardofaria.github.io/leonardofaria.net/2011/10/07/ecpf-no-mac/</guid><description>&lt;p>No meu trabalho preciso usar meu cartão eCPF para acessar um determinado sistema que estamos desenvolvendo. Tenho um cartão eCPF, emitido pelo Banco do Brasil e um leitor de cartões OmniKey 3021 e foi uma grande dor de cabeça configurá-lo no Mac. Não era para ser um problema, uma vez que você precisa apenas de um driver e um módulo para o Firefox.&lt;/p>
&lt;h3 id="driver">Driver&lt;/h3>
&lt;p>O driver do leitor OmniKey pode ser &lt;a href="http://loja.certificadodigital.com.br/Serasa/Softwares%20e%20Drivers/D102">obtido&lt;/a> pelo site da &lt;a href="http://loja.certificadodigital.com.br/SERASA/Home">Serasa Experian&lt;/a>. Além do driver do meu dispositivo, essa página apresenta drivers de outros devices.&lt;/p>
&lt;p>Nessa mesma página, copie o Software do Cartão – Safesign. Esse software reconhece o seu cartão e apresenta os dados do certificado, a partir do app tokenadmin.&lt;/p>
&lt;p>Observação: tudo nesse site está bem documentado, por isso esse post está resumido :)&lt;/p>
&lt;h3 id="firefox">Firefox&lt;/h3>
&lt;p>Para que o Firefox leia seu certificado, será necessário a instalação da biblioteca libcmP11.dylib. &lt;a href="http://suporte.digitalsign.pt/faq.php?cid=15&amp;amp;answer=20">Faça o download dessa biblioteca&lt;/a> e copie-a para a pasta /Library/cssi. Em seguida abra as preferências do Firefox e escolha: Advanced &amp;gt; Encryption &amp;gt; Security Devices. Clique no botão Load e na tela que se abre informe o caminho do arquivo (/Library/cssi/libcmP11.dylib). Não tem erro, com o cartão plugado na porta USB do Mac, o Firefox conseguirá autenticar utilizando-se o certificado digital. Para testar, você pode usar o &lt;a href="https://cav.receita.fazenda.gov.br/eCAC/publico/login.aspx">eCAC&lt;/a>, da Receita Federal.&lt;/p>
&lt;p>Nota: o &lt;a href="http://maneblog.mgate.com.br/">ManéBlog&lt;/a> escreveu um &lt;a href="http://maneblog.mgate.com.br/2010/03/26/como-finalmente-usar-certificados-digitais-e-cpf-por-exemplo-no-mac/">post sobre o assunto&lt;/a>, que me ajudou no processo.&lt;/p></description></item><item><title>Geração de PDFs indolor no Rails 3</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/08/31/geracao-de-pdfs-indolor-no-rails-3/</link><pubDate>Wed, 31 Aug 2011 00:50:10 -0300</pubDate><guid>http://leonardofaria.github.io/leonardofaria.net/2011/08/31/geracao-de-pdfs-indolor-no-rails-3/</guid><description>&lt;p>Em um trabalho recente, precisei gerar relatórios em PDF. Considerei algumas soluções e optei por uma que não me fizesse perder os cabelos e reescrever código: &lt;a href="https://github.com/mileszs/wicked_pdf">wicked_pdf&lt;/a>.&lt;/p>
&lt;p>wicked_pdf usa &lt;a href="http://code.google.com/p/wkhtmltopdf/">wkhtmltopdf&lt;/a>, um incrível utilitário que converte HTML para PDF, usando Webkit e QT. Você não precisa compilá-lo, basta apenas copiar o binário certo do site do projeto.&lt;/p>
&lt;h3 id="uso">Uso&lt;/h3>
&lt;p>Após instalar a gem em seu sistema, você pode gerar os PDFs sem escovar bits: adicione o formato pdf entre as possibilidades de respostas de uma action, como abaixo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#000;font-weight:bold">def&lt;/span> &lt;span style="color:#900;font-weight:bold">report&lt;/span>
&lt;span style="color:#008080">@order&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#008080">Order&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>find(params&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#990073">:id&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>)
respond_to &lt;span style="color:#000;font-weight:bold">do&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>&lt;span style="color:#0086b3">format&lt;/span>&lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;span style="color:#0086b3">format&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>html
&lt;span style="color:#0086b3">format&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>pdf &lt;span style="color:#000;font-weight:bold">do&lt;/span>
render &lt;span style="color:#990073">:pdf&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#d14">&amp;#34;order-&lt;/span>&lt;span style="color:#d14">#{&lt;/span>params&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#990073">:id&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#d14">}&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>
&lt;span style="color:#000;font-weight:bold">end&lt;/span>
&lt;span style="color:#000;font-weight:bold">end&lt;/span>
&lt;span style="color:#000;font-weight:bold">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Se quiser, você pode usar a mesma view do formato html:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">render &lt;span style="color:#990073">:pdf&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#d14">&amp;#34;order-&lt;/span>&lt;span style="color:#d14">#{&lt;/span>params&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#990073">:id&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#d14">}&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>, &lt;span style="color:#990073">:template&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#d14">&amp;#34;/orders/report.html.erb&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>O readme da gem apresenta as informações pertinentes para seu uso e não é meu objetivo reproduzi-lo aqui, apenas chamo a atenção para um detalhe: em hosts compartilhados, você precisará definir o path correto do wkhtmltopdf. Para isso, você pode criar um initializer com o seguinte conteúdo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#008080">WickedPdf&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>config &lt;span style="color:#000;font-weight:bold">=&lt;/span> { &lt;span style="color:#990073">:exe_path&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#d14">&amp;#39;/home/meuusario/wkhtmltopdf&amp;#39;&lt;/span> }
&lt;/code>&lt;/pre>&lt;/div>&lt;p>PS. você pode usar o wkhtmltopdf no PHP com o &lt;a href="https://github.com/knplabs/snappy">Snappy&lt;/a>. Não testei, mas pode ser uma boa opção.&lt;/p></description></item><item><title>Validações personalizadas no Rails 3</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/06/05/validacoes-personalizadas-no-rails-3/</link><pubDate>Sun, 05 Jun 2011 22:55:12 -0300</pubDate><guid>http://leonardofaria.github.io/leonardofaria.net/2011/06/05/validacoes-personalizadas-no-rails-3/</guid><description>&lt;p>O método &lt;a href="http://api.rubyonrails.org/classes/ActiveModel/Validations/ClassMethods.html#method-i-validates">validates&lt;/a> do Rails 3 &lt;a href="http://lindsaar.net/2010/1/31/validates_rails_3_awesome_is_true">agrupou os antigos métodos&lt;/a> de validação do Rails 2. Na versão 3, usamos o método validates acompanhado do atributo a ser validado e de suas respectivas regras de validação. Trabalhando em um novo projeto necessito validar CPFs e CNPJs, e consequentemente, precisei criar validações adicionais. Esse post mostra como realizei isso.&lt;/p>
&lt;p>Inicialmente, criei na pasta &lt;code>lib/&lt;/code> o arquivo &lt;code>my_validations.rb&lt;/code>, com o seguinte conteúdo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#000;font-weight:bold">class&lt;/span> &lt;span style="color:#458;font-weight:bold">MyValidations&lt;/span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span> &lt;span style="color:#008080">ActiveModel&lt;/span>&lt;span style="color:#000;font-weight:bold">::&lt;/span>&lt;span style="color:#008080">Validator&lt;/span>
&lt;span style="color:#000;font-weight:bold">def&lt;/span> &lt;span style="color:#900;font-weight:bold">validate&lt;/span>(record)
record&lt;span style="color:#000;font-weight:bold">.&lt;/span>errors&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#990073">:cpf&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#d14">&amp;#34;CPF (&lt;/span>&lt;span style="color:#d14">#{&lt;/span>record&lt;span style="color:#000;font-weight:bold">.&lt;/span>cpf&lt;span style="color:#d14">}&lt;/span>&lt;span style="color:#d14">) é inválido&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">unless&lt;/span> &lt;span style="color:#008080">Cpf&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>new(record&lt;span style="color:#000;font-weight:bold">.&lt;/span>cpf)&lt;span style="color:#000;font-weight:bold">.&lt;/span>valido?
record&lt;span style="color:#000;font-weight:bold">.&lt;/span>errors&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#990073">:cnpj&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#d14">&amp;#34;CNPJ (&lt;/span>&lt;span style="color:#d14">#{&lt;/span>record&lt;span style="color:#000;font-weight:bold">.&lt;/span>cnpj&lt;span style="color:#d14">}&lt;/span>&lt;span style="color:#d14">) é inválido&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">unless&lt;/span> &lt;span style="color:#008080">Cnpj&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>new(record&lt;span style="color:#000;font-weight:bold">.&lt;/span>cnpj)&lt;span style="color:#000;font-weight:bold">.&lt;/span>valido?
&lt;span style="color:#000;font-weight:bold">end&lt;/span>
&lt;span style="color:#000;font-weight:bold">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Veja que na primeira linha desse arquivo eu indico o encoding usado, para evitar problemas com os acentos. Utilizo o &lt;a href="https://github.com/tapajos/brazilian-rails">brazilian-rails&lt;/a> para confirmar se os documentos informados são ou não válidos. No meu model, eu invoco o método &lt;a href="http://api.rubyonrails.org/classes/ActiveModel/Validations/ClassMethods.html#method-i-validates_with">validates_with&lt;/a>, indicando a classe recém-criada.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">validates_with &lt;span style="color:#008080">MyValidations&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Esse foi um exemplo de como resolvi meu problema. Existem &lt;a href="http://thelucid.com/2010/01/08/sexy-validation-in-edge-rails-rails-3/">outros&lt;/a> &lt;a href="http://omgbloglol.com/post/392895742/improved-validations-in-rails-3">posts&lt;/a> sobre o assunto por aí, boa sorte!&lt;/p></description></item><item><title>Coletânea de dicas sobre WordPress</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/04/24/coletanea-de-dicas-sobre-wordpress/</link><pubDate>Sun, 24 Apr 2011 15:58:32 -0300</pubDate><guid>http://leonardofaria.github.io/leonardofaria.net/2011/04/24/coletanea-de-dicas-sobre-wordpress/</guid><description>&lt;p>Resolvi escrever uma série de posts com diversas dicas para o WordPress.&lt;/p>
&lt;h3 id="temas">Temas&lt;/h3>
&lt;p>Vai escrever um template do zero? Recomendo começar pelo &lt;a href="http://html5boilerplate.com/">HTML5 Boilerplate&lt;/a>. Trata-se de um template com diversas otimizações e resets para garantir a compatibilidade máxima entre browsers.&lt;/p>
&lt;p>Também é interessante uma leitura sobre o &lt;a href="http://codex.wordpress.org/Theme_Development">desenvolvimento de temas&lt;/a>, principalmente sobre a &lt;a href="http://codex.wordpress.org/Template_Hierarchy">hierarquia dos templates&lt;/a> e a função &lt;a href="http://codex.wordpress.org/Function_Reference/get_template_part">get_template&lt;/a>. Venho utilizando essa função para não repetir código nos arquivos &lt;code>archive.php&lt;/code>, &lt;code>page.php&lt;/code>, &lt;code>search.php&lt;/code> e &lt;code>single.php&lt;/code>.&lt;/p>
&lt;h3 id="rascunhos-de-posts">Rascunhos de posts&lt;/h3>
&lt;p>O WordPress salva automaticamente seus posts, o que pode aumentar o tamanho de seu banco de dados. Para desabilitar esse recurso, você pode editar o arquivo &lt;code>/wp-config.php&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
define(&lt;span style="color:#d14">&amp;#39;WP_POST_REVISIONS&amp;#39;&lt;/span>, &lt;span style="color:#000;font-weight:bold">false&lt;/span>);
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para apagar os rascunhos já escritos, você pode usar o plugin &lt;a href="http://www.1e2.it/tag/better-delete-revision">&lt;strong>Better Delete Revision&lt;/strong>&lt;/a>, ou executar a seguinte query:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sql" data-lang="sql">&lt;span style="color:#000;font-weight:bold">DELETE&lt;/span> a,b,&lt;span style="color:#000;font-weight:bold">c&lt;/span>
&lt;span style="color:#000;font-weight:bold">FROM&lt;/span> wp_posts a
&lt;span style="color:#000;font-weight:bold">LEFT&lt;/span> &lt;span style="color:#000;font-weight:bold">JOIN&lt;/span> wp_term_relationships b &lt;span style="color:#000;font-weight:bold">ON&lt;/span> (a.ID &lt;span style="color:#000;font-weight:bold">=&lt;/span> b.object_id)
&lt;span style="color:#000;font-weight:bold">LEFT&lt;/span> &lt;span style="color:#000;font-weight:bold">JOIN&lt;/span> wp_postmeta &lt;span style="color:#000;font-weight:bold">c&lt;/span> &lt;span style="color:#000;font-weight:bold">ON&lt;/span> (a.ID &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">c&lt;/span>.post_id)
&lt;span style="color:#000;font-weight:bold">WHERE&lt;/span> a.post_type &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#d14">&amp;#39;revision&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="rss">RSS&lt;/h3>
&lt;p>Você pode ler RSS usando a função &lt;code>wp_rss&lt;/code> do próprio WordPress. Exemplo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#000;font-weight:bold">include_once&lt;/span>(ABSPATH&lt;span style="color:#000;font-weight:bold">.&lt;/span>WPINC&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#d14">&amp;#39;/rss.php&amp;#39;&lt;/span>);
wp_rss(&lt;span style="color:#d14">&amp;#39;http://mysite.com/feed&amp;#39;&lt;/span>, &lt;span style="color:#099">5&lt;/span>);
&lt;span style="color:#000;font-weight:bold">?&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Outra forma é através do plugin &lt;a href="http://wordpress.org/extend/plugins/rss-import/">&lt;strong>RSS Import&lt;/strong>&lt;/a>. Com ele você pode ler um feed usando o shortcode &lt;code>[RSSImport]&lt;/code>. Exemplo:&lt;/p>
&lt;pre>&lt;code>[RSSImport display=&amp;quot;10&amp;quot;, feedurl=&amp;quot;http://mysite.com/feed&amp;quot;]
&lt;/code>&lt;/pre>&lt;p>O uso via shortcode é importante para que um usuário de seu blog possa ler um feed dentro de um post, sem executar diretamente PHP, como no uso da função &lt;code>wp_rss&lt;/code>.&lt;/p>
&lt;h3 id="plugins-relevantes">Plugins relevantes&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="http://brunopedrassani.com/wordpress/plugins/browser-sniff">&lt;strong>Browser Sniff&lt;/strong>&lt;/a>: detecta o browser/os do usuário que comenta em seu blog;&lt;/li>
&lt;li>&lt;a href="http://guff.szub.net/head-meta-description/">&lt;strong>Head Meta Description&lt;/strong>&lt;/a>: insere a tag &lt;code>&amp;lt;meta&amp;gt;&lt;/code> com o resumo ou conteúdo de seu post ou página;&lt;/li>
&lt;li>&lt;a href="http://planetozh.com/blog/2004/08/ip-to-nation-plugin/">&lt;strong>IP to Nation&lt;/strong>&lt;/a>: localiza o país do usuário que comenta em seu blog através do IP;&lt;/li>
&lt;li>&lt;a href="http://alexrabe.de/wordpress-plugins/nextgen-gallery/">&lt;strong>NextGEN Gallery&lt;/strong>&lt;/a>: sistema de galerias de fotos para o WordPress. Você cria as galerias e faz o embed em suas páginas ou posts. E há ainda uma &lt;a href="http://nextgen-gallery.com/slideshow/nextgen-monoslideshow/">integração com o Monoslideshow&lt;/a>;&lt;/li>
&lt;li>&lt;a href="http://wordpress.org/extend/plugins/php-execution-plugin/">&lt;strong>PHP Executation&lt;/strong>&lt;/a>: permite a execução de PHP dentro dos seus posts;&lt;/li>
&lt;li>&lt;a href="http://atastypixel.com/blog/wordpress/plugins/smart-404/">&lt;strong>Smart 404&lt;/strong>&lt;/a>: provê sugestões de páginas e posts quando uma página não é localizada;&lt;/li>
&lt;li>&lt;a href="http://austinmatzko.com/wordpress-plugins/wp-db-backup/">&lt;strong>WordPress Database Backup&lt;/strong>&lt;/a>: permite fazer um backup do seu banco de dados, dando a opção de download direto, envio por email ou cópia no próprio servidor. É um plugin útil caso você não tenha acesso ao MySQL do seu servidor;&lt;/li>
&lt;li>&lt;a href="http://mitcho.com/code/yarpp/">&lt;strong>Yet Another Related Posts Plugin&lt;/strong>&lt;/a>: apresenta posts relacionados ao exibido, inclusive no feed do seu blog&lt;/li>
&lt;li>&lt;a href="http://yoast.com/wordpress/breadcrumbs/">&lt;strong>Yoast Breadcrumbs&lt;/strong>&lt;/a>: cria migalhas de pão para serem usadas em seu template.&lt;/li>
&lt;/ul></description></item><item><title>Busca nos campos personalizados do WordPress</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/03/13/busca-nos-campos-personalizados-do-wordpress/</link><pubDate>Sun, 13 Mar 2011 12:33:57 -0300</pubDate><guid>http://leonardofaria.github.io/leonardofaria.net/2011/03/13/busca-nos-campos-personalizados-do-wordpress/</guid><description>&lt;p>Os campos personalizados é um recurso usado no WordPress para que o autor de um post possa armazenar dados a sua escolha. Você pode usar esse recurso de várias formas: mostrar imagens personalizadas, falar o que você está ouvindo durante a escrita do post, adicionar informação pessoal e &lt;a href="http://performancing.com/jazz_up_your_site__28_ways_to_use_wordpress_custom_fields/">muito mais&lt;/a>. Em um blog sobre livros, você pode usar tal recurso para criar os campos “Autor”, “Editora”, “Ano” e por aí vai.&lt;/p>
&lt;p>Estou trabalhando em um projeto que utiliza os campos personalizados na área de Imprensa, onde cada post aponta em que tipo de imprensa determinada informação foi postada: Rádio, TV, Internet, Jornal. Como dito acima, criar o campo personalizado é simples. Difícil é filtrar os posts de acordo com o valor do campo.&lt;/p>
&lt;h3 id="a-solução">A solução&lt;/h3>
&lt;p>Descobri um plugin chamado &lt;a href="http://guff.szub.net/2006/04/21/search-custom-fields/">Search Custom Fields&lt;/a>. Numa explicação rápida, ele adiciona os Campos Personalizados na query de busca de posts.&lt;/p>
&lt;p>Antes:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-html" data-lang="html">&amp;lt;&lt;span style="color:#000080">a&lt;/span> &lt;span style="color:#008080">href&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;/?s=minhabusca&amp;#34;&lt;/span>&amp;gt;minha busca&amp;lt;/&lt;span style="color:#000080">a&lt;/span>&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Depois:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-html" data-lang="html">&amp;lt;&lt;span style="color:#000080">a&lt;/span> &lt;span style="color:#008080">href&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;?meucampopersonalizado=Veículo&amp;amp;s=meuvalordocampopersonalizado&amp;#34;&lt;/span>&amp;gt;minha busca pelo campo personalizado&amp;lt;/&lt;span style="color:#000080">a&lt;/span>&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Na &lt;a href="http://guff.szub.net/2006/04/21/search-custom-fields/">documentação do plugin&lt;/a>, o autor mostra como turbinar o campo de busca do WordPress. Ao invés disso, escrevi uma pequena função para listar os valores de um atributo personalizado:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#000;font-weight:bold">function&lt;/span> &lt;span style="color:#900;font-weight:bold">list_custom_fields&lt;/span>(&lt;span style="color:#008080">$metakey&lt;/span>, &lt;span style="color:#008080">$output&lt;/span>) {
&lt;span style="color:#998;font-style:italic">// based on http://sixrevisions.com/wordpress/custom-fields-search/
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">global&lt;/span> &lt;span style="color:#008080">$wpdb&lt;/span>;
&lt;span style="color:#008080">$items&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#008080">$wpdb&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">get_col&lt;/span>(&lt;span style="color:#008080">$wpdb&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">prepare&lt;/span>(&lt;span style="color:#d14">&amp;#34;SELECT DISTINCT meta_value FROM &lt;/span>&lt;span style="color:#d14">$wpdb-&amp;gt;postmeta&lt;/span>&lt;span style="color:#d14"> WHERE meta_key = %s ORDER BY meta_value ASC&amp;#34;&lt;/span>, &lt;span style="color:#008080">$metakey&lt;/span>) );
&lt;span style="color:#000;font-weight:bold">if&lt;/span> (&lt;span style="color:#008080">$items&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">if&lt;/span> (&lt;span style="color:#008080">$output&lt;/span> &lt;span style="color:#000;font-weight:bold">==&lt;/span> &lt;span style="color:#d14">&amp;#34;dropdown&amp;#34;&lt;/span>) { &lt;span style="color:#998;font-style:italic">// display values in a select
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;form action=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">/&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> method=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">get&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;gt;&amp;lt;input type=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">hidden&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> name=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">key&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> value=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">$metakey\&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">/&amp;gt;&amp;lt;&lt;/span>select name&lt;span style="color:#000;font-weight:bold">=&lt;/span>\&lt;span style="color:#d14">&amp;#34;s&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> onchange=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">this.form.submit();&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;gt;&amp;lt;option&amp;gt;&amp;lt;/option&amp;gt;&amp;#34;&lt;/span>;
&lt;span style="color:#000;font-weight:bold">foreach&lt;/span> (&lt;span style="color:#008080">$items&lt;/span> &lt;span style="color:#000;font-weight:bold">as&lt;/span> &lt;span style="color:#008080">$item&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;option value=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#008080">$item&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;gt;&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#008080">$item&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;/option&amp;gt;&amp;#34;&lt;/span>;
}
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;/select&amp;gt;&amp;lt;/form&amp;gt;&amp;#34;&lt;/span>;
} &lt;span style="color:#000;font-weight:bold">else&lt;/span> &lt;span style="color:#000;font-weight:bold">if&lt;/span> (&lt;span style="color:#008080">$output&lt;/span> &lt;span style="color:#000;font-weight:bold">==&lt;/span> &lt;span style="color:#d14">&amp;#34;list&amp;#34;&lt;/span>) { &lt;span style="color:#998;font-style:italic">// display values in a list
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;ul&amp;gt;&amp;#34;&lt;/span>;
&lt;span style="color:#000;font-weight:bold">foreach&lt;/span> (&lt;span style="color:#008080">$items&lt;/span> &lt;span style="color:#000;font-weight:bold">as&lt;/span> &lt;span style="color:#008080">$item&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;li&amp;gt;&amp;lt;a href=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">/?s=&lt;/span>&lt;span style="color:#d14">$item&lt;/span>&lt;span style="color:#d14">&amp;amp;key=&lt;/span>&lt;span style="color:#d14">$metakey\&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#008080">$item&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>a&lt;span style="color:#000;font-weight:bold">&amp;gt;&amp;lt;/&lt;/span>li&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#d14">&amp;#34;;
&lt;/span>&lt;span style="color:#d14"> }
&lt;/span>&lt;span style="color:#d14"> echo &amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>ul&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#d14">&amp;#34;;
&lt;/span>&lt;span style="color:#d14"> }
&lt;/span>&lt;span style="color:#d14"> }
&lt;/span>&lt;span style="color:#d14">}
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Coloque a função acima no arquivo functions.php do seu tema e chame-a, de duas formas, em seu sidebar, por exemplo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span> &lt;span style="color:#000;font-weight:bold">if&lt;/span>(function_exists(&lt;span style="color:#d14">&amp;#39;list_custom_fields&amp;#39;&lt;/span>)) list_custom_fields(&lt;span style="color:#d14">&amp;#34;Veículo&amp;#34;&lt;/span>, &lt;span style="color:#d14">&amp;#34;dropdown&amp;#34;&lt;/span>); &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>…para mostrar os valores do campo personalizado “Veículo” em select do HTML ou…&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span> &lt;span style="color:#000;font-weight:bold">if&lt;/span>(function_exists(&lt;span style="color:#d14">&amp;#39;list_custom_fields&amp;#39;&lt;/span>)) list_custom_fields(&lt;span style="color:#d14">&amp;#34;Veículo&amp;#34;&lt;/span>, &lt;span style="color:#d14">&amp;#34;list&amp;#34;&lt;/span>); &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>…para mostrar os valores do campo personalizado “Veículo” em uma lista.&lt;/p></description></item><item><title>Novo micro-projeto: Guia da TV</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/01/25/novo-micro-projeto-guia-da-tv/</link><pubDate>Tue, 25 Jan 2011 18:33:40 -0200</pubDate><guid>http://leonardofaria.github.io/leonardofaria.net/2011/01/25/novo-micro-projeto-guia-da-tv/</guid><description>&lt;p>Aproveitei algumas horas das minhas férias e lancei um novo micro-projeto: &lt;strong>&lt;a href="http://guiadatv.divirta.me">Guia da TV&lt;/a>&lt;/strong>. O &lt;strong>Guia da TV&lt;/strong> permite você saber quais programas estão para começar.&lt;/p>
&lt;center>
&lt;a href="http://guiadatv.divirta.me">&lt;img src="http://leonardofaria.github.io/leonardofaria.net/wp-content/uploads/2011/01/guiadatv.jpg" width="500" />&lt;/a>
&lt;/center>
&lt;p>Algumas coisas ainda serão aprimoradas, mas o aplicativo já está em produção. Ele foi feito com Rails 3 e algumas pitadas de jQuery em sua interface. O conteúdo é fornecido pela &lt;a href="http://revistaeletronica.com.br/">Revista Eletrônica&lt;/a>. Se você gosta de ver TV, use-o e o recomende no Facebook ;)&lt;/p></description></item><item><title>Personalizando o scrollbar com WebKit</title><link>http://leonardofaria.github.io/leonardofaria.net/2011/01/23/personalizando-o-scrollbar-com-webkit/</link><pubDate>Sun, 23 Jan 2011 18:52:34 -0200</pubDate><guid>http://leonardofaria.github.io/leonardofaria.net/2011/01/23/personalizando-o-scrollbar-com-webkit/</guid><description>&lt;p>Personalizar barras de rolagem é &lt;a href="http://codestacker.com/codes/244-color-scrollbars-for-ie-5-5">algo que vem lá dos tempos&lt;/a> do IE 5.5. Naquele tempo, personalizavam-se as cores da barra, criando efeitos na maioria da vezes cafonas. Já &lt;a href="http://webkit.org/blog/363/styling-scrollbars/">faz algum tempo&lt;/a> que o WebKit suporta scrollbars personalizadas. Você pode personalizar atributos como borda e background, usando até mesmo imagens para criar barras de rolagens bacanas. Esse artigo mostra alguns pseudo-elementos e pseudo-classes para personalizar sua barra.&lt;/p>
&lt;h3 id="antes-de-começar">Antes de começar&lt;/h3>
&lt;p>Antes de começar precisamos alterar algumas propriedades de posicionamento de nossa página, para que a barra do WebKit substitua a barra nativa do browser.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-css" data-lang="css">&lt;span style="color:#000080">body&lt;/span> {
&lt;span style="color:#000;font-weight:bold">position&lt;/span>: &lt;span style="color:#000;font-weight:bold">absolute&lt;/span>;
&lt;span style="color:#000;font-weight:bold">top&lt;/span>: &lt;span style="color:#099">0&lt;/span>;
&lt;span style="color:#000;font-weight:bold">left&lt;/span>: &lt;span style="color:#099">0&lt;/span>;
&lt;span style="color:#000;font-weight:bold">bottom&lt;/span>: &lt;span style="color:#099">0&lt;/span>;
&lt;span style="color:#000;font-weight:bold">right&lt;/span>: &lt;span style="color:#099">10&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">overflow-y&lt;/span>: &lt;span style="color:#000;font-weight:bold">scroll&lt;/span>;
&lt;span style="color:#000;font-weight:bold">overflow-x&lt;/span>: &lt;span style="color:#000;font-weight:bold">hidden&lt;/span>;
}
&lt;span style="color:#000080">html&lt;/span> {
&lt;span style="color:#000;font-weight:bold">overflow-y&lt;/span>: &lt;span style="color:#000;font-weight:bold">auto&lt;/span>;
&lt;span style="color:#000;font-weight:bold">background-color&lt;/span>: &lt;span style="color:#000;font-weight:bold">transparent&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="os-pseudo-elementos-e-as-pseudo-classes">Os pseudo-elementos e as pseudo-classes&lt;/h3>
&lt;h4 id="pseudo-elementos">Pseudo-elementos&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-html" data-lang="html">&amp;lt;&lt;span style="color:#000080">ul&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;-webkit-scrollbar&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;-webkit-scrollbar-button&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;-webkit-scrollbar-track&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;-webkit-scrollbar-track-piece&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;-webkit-scrollbar-thumb&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;-webkit-scrollbar-corner&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;-webkit-resizer&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;/&lt;span style="color:#000080">ul&lt;/span>&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="pseudo-classes">Pseudo-classes&lt;/h4>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-html" data-lang="html">&amp;lt;&lt;span style="color:#000080">ul&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:horizontal&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:vertical&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:decrement&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:increment&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:start&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:end&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:double-button&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:single-button&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:no-button&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:corner-present&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:window-inactive&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:enabled&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:disabled&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:hover&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;&lt;span style="color:#000080">li&lt;/span>&amp;gt;:active&amp;lt;/&lt;span style="color:#000080">li&lt;/span>&amp;gt;
&amp;lt;/&lt;span style="color:#000080">ul&lt;/span>&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="exemplos">Exemplos&lt;/h3>
&lt;h4 id="exemplo-1">Exemplo 1&lt;/h4>
&lt;center>
&lt;img src="http://leonardofaria.github.io/leonardofaria.net/wp-content/uploads/2011/01/exemplo1.jpg" />
&lt;/center>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-css" data-lang="css">::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar&lt;/span> {
&lt;span style="color:#000;font-weight:bold">width&lt;/span>: &lt;span style="color:#099">10&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">height&lt;/span>: &lt;span style="color:#099">10&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">start&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">decrement&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">increment&lt;/span> {
&lt;span style="color:#000;font-weight:bold">display&lt;/span>: &lt;span style="color:#000;font-weight:bold">none&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-track-piece&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-color&lt;/span>: &lt;span style="color:#099">#3b3b3b&lt;/span>;
&lt;span style="color:#000;font-weight:bold">-webkit-&lt;/span>&lt;span style="color:#000;font-weight:bold">border-radius&lt;/span>: &lt;span style="color:#099">6&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-thumb&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-color&lt;/span>: &lt;span style="color:#099">#666&lt;/span>;
&lt;span style="color:#000;font-weight:bold">-webkit-&lt;/span>&lt;span style="color:#000;font-weight:bold">border-radius&lt;/span>: &lt;span style="color:#099">6&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Veja no primeiro exemplo que nos elementos &lt;code>-webkit-scrollbar-button:start:decrement&lt;/code> e &lt;code>-webkit-scrollbar-button:end:increment&lt;/code> foram usadas &lt;code>display:none&lt;/code>, para que não seja exibido os botões das extremidades da barra.&lt;/p>
&lt;h2 id="exemplo-2">Exemplo 2&lt;/h2>
&lt;center>
&lt;img src="http://leonardofaria.github.io/leonardofaria.net/wp-content/uploads/2011/01/exemplo2.jpg" />
&lt;/center>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-css" data-lang="css">::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">start&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">decrement&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">increment&lt;/span> {
&lt;span style="color:#000;font-weight:bold">display&lt;/span>: &lt;span style="color:#000;font-weight:bold">block&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">increment&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_cntrl_dwn.png&amp;#34;&lt;/span>);
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">start&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">decrement&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_cntrl_up.png&amp;#34;&lt;/span>);
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-track-piece&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">start&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_top.png&amp;#34;&lt;/span>), &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_mid.png&amp;#34;&lt;/span>);
&lt;span style="color:#000;font-weight:bold">background-repeat&lt;/span>: &lt;span style="color:#000;font-weight:bold">no-repeat&lt;/span>, &lt;span style="color:#000;font-weight:bold">repeat&lt;/span>&lt;span style="color:#000;font-weight:bold">-&lt;/span>y;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-track-piece&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_btm.png&amp;#34;&lt;/span>), &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_mid.png&amp;#34;&lt;/span>);
&lt;span style="color:#000;font-weight:bold">background-repeat&lt;/span>: &lt;span style="color:#000;font-weight:bold">no-repeat&lt;/span>, &lt;span style="color:#000;font-weight:bold">repeat&lt;/span>&lt;span style="color:#000;font-weight:bold">-&lt;/span>y;
&lt;span style="color:#000;font-weight:bold">background-position&lt;/span>: &lt;span style="color:#000;font-weight:bold">bottom&lt;/span> &lt;span style="color:#000;font-weight:bold">left&lt;/span>, &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#099">0&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-thumb&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span> {
&lt;span style="color:#000;font-weight:bold">height&lt;/span>: &lt;span style="color:#099">56&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">-webkit-&lt;/span>&lt;span style="color:#000;font-weight:bold">border-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_thumb.png&amp;#34;&lt;/span>) &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#000;font-weight:bold">stretch&lt;/span> &lt;span style="color:#000;font-weight:bold">stretch&lt;/span>;
&lt;span style="color:#000;font-weight:bold">border-width&lt;/span>: &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>No segundo exemplo, foram usados múltiplos backgrounds para criar uma barra de rolagem arrendondada.&lt;/p>
&lt;h3 id="exemplo-3">Exemplo 3&lt;/h3>
&lt;center>
&lt;img src="http://leonardofaria.github.io/leonardofaria.net/wp-content/uploads/2011/01/exemplo3.jpg" />
&lt;/center>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-css" data-lang="css">::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar&lt;/span> {
&lt;span style="color:#000;font-weight:bold">width&lt;/span>: &lt;span style="color:#099">16&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">height&lt;/span>: &lt;span style="color:#099">16&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">increment&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">decrement&lt;/span> {
&lt;span style="color:#000;font-weight:bold">display&lt;/span>: &lt;span style="color:#000;font-weight:bold">block&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">increment&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_cntrl_dwn.png&amp;#34;&lt;/span>);
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">decrement&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_cntrl_up.png&amp;#34;&lt;/span>);
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-track-piece&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">start&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_top.png&amp;#34;&lt;/span>), &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_mid.png&amp;#34;&lt;/span>);
&lt;span style="color:#000;font-weight:bold">background-repeat&lt;/span>: &lt;span style="color:#000;font-weight:bold">no-repeat&lt;/span>, &lt;span style="color:#000;font-weight:bold">repeat&lt;/span>&lt;span style="color:#000;font-weight:bold">-&lt;/span>y;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-track-piece&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_btm.png&amp;#34;&lt;/span>), &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_gutter_mid.png&amp;#34;&lt;/span>);
&lt;span style="color:#000;font-weight:bold">background-repeat&lt;/span>: &lt;span style="color:#000;font-weight:bold">no-repeat&lt;/span>, &lt;span style="color:#000;font-weight:bold">repeat&lt;/span>&lt;span style="color:#000;font-weight:bold">-&lt;/span>y;
&lt;span style="color:#000;font-weight:bold">background-position&lt;/span>: &lt;span style="color:#000;font-weight:bold">bottom&lt;/span> &lt;span style="color:#000;font-weight:bold">left&lt;/span>, &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#099">0&lt;/span>;
}
::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-thumb&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span> {
&lt;span style="color:#000;font-weight:bold">height&lt;/span>: &lt;span style="color:#099">56&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">-webkit-&lt;/span>&lt;span style="color:#000;font-weight:bold">border-image&lt;/span>: &lt;span style="color:#0086b3">url&lt;/span>(&lt;span style="color:#d14">&amp;#34;images/scroll_thumb.png&amp;#34;&lt;/span>) &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#000;font-weight:bold">stretch&lt;/span> &lt;span style="color:#000;font-weight:bold">stretch&lt;/span>;
&lt;span style="color:#000;font-weight:bold">border-width&lt;/span>: &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span> &lt;span style="color:#099">8&lt;/span> &lt;span style="color:#099">0&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Nesse exemplo são usados botões na parte inferior da barra, como no Mac OS.&lt;/p>
&lt;h3 id="exemplo-4">Exemplo 4&lt;/h3>
&lt;center>
&lt;img src="http://leonardofaria.github.io/leonardofaria.net/wp-content/uploads/2011/01/exemplo41.jpg" />
&lt;/center>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-css" data-lang="css">&lt;span style="color:#000080">pre&lt;/span> {
&lt;span style="color:#000;font-weight:bold">border&lt;/span>: &lt;span style="color:#099">1&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span> &lt;span style="color:#000;font-weight:bold">solid&lt;/span> &lt;span style="color:#099">#ccc&lt;/span>;
&lt;span style="color:#000;font-weight:bold">border-radius&lt;/span>: &lt;span style="color:#099">3&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">white-space&lt;/span>: &lt;span style="color:#000;font-weight:bold">nowrap&lt;/span>;
&lt;span style="color:#000;font-weight:bold">overflow&lt;/span>: &lt;span style="color:#000;font-weight:bold">scroll&lt;/span>;
&lt;span style="color:#000;font-weight:bold">padding&lt;/span>: &lt;span style="color:#099">5&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">width&lt;/span>: &lt;span style="color:#099">550&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
}
&lt;span style="color:#000080">pre&lt;/span>::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar&lt;/span> {
&lt;span style="color:#000;font-weight:bold">width&lt;/span>: &lt;span style="color:#099">6&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">height&lt;/span>: &lt;span style="color:#099">6&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">padding&lt;/span>: &lt;span style="color:#099">18&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">-webkit-&lt;/span>&lt;span style="color:#000;font-weight:bold">border-radius&lt;/span>: &lt;span style="color:#099">1&lt;/span>&lt;span style="color:#458;font-weight:bold">ex&lt;/span>;
}
&lt;span style="color:#000080">pre&lt;/span>::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-thumb&lt;/span> {
&lt;span style="color:#000;font-weight:bold">background&lt;/span>: &lt;span style="color:#099">#ccc&lt;/span> &lt;span style="color:#000;font-weight:bold">-webkit-&lt;/span>&lt;span style="color:#900;font-weight:bold">gradient&lt;/span>(&lt;span style="color:#000;font-weight:bold">linear&lt;/span>, &lt;span style="color:#099">0&lt;/span>&lt;span style="color:#458;font-weight:bold">%&lt;/span> &lt;span style="color:#099">0&lt;/span>&lt;span style="color:#458;font-weight:bold">%&lt;/span>, &lt;span style="color:#099">0&lt;/span>&lt;span style="color:#458;font-weight:bold">%&lt;/span> &lt;span style="color:#099">100&lt;/span>&lt;span style="color:#458;font-weight:bold">%&lt;/span>, &lt;span style="color:#900;font-weight:bold">from&lt;/span>(&lt;span style="color:#0086b3">rgb&lt;/span>(&lt;span style="color:#099">240&lt;/span>, &lt;span style="color:#099">240&lt;/span>, &lt;span style="color:#099">240&lt;/span>)), &lt;span style="color:#900;font-weight:bold">to&lt;/span>(&lt;span style="color:#0086b3">rgb&lt;/span>(&lt;span style="color:#099">210&lt;/span>, &lt;span style="color:#099">210&lt;/span>, &lt;span style="color:#099">210&lt;/span>)));
&lt;span style="color:#000;font-weight:bold">padding&lt;/span>: &lt;span style="color:#099">8&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">width&lt;/span>: &lt;span style="color:#099">6&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">height&lt;/span>: &lt;span style="color:#099">6&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">-webkit-&lt;/span>&lt;span style="color:#000;font-weight:bold">border-radius&lt;/span>: &lt;span style="color:#099">1&lt;/span>&lt;span style="color:#458;font-weight:bold">ex&lt;/span>;
}
&lt;span style="color:#000080">pre&lt;/span>::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">start&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">decrement&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#000080">pre&lt;/span>::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-button&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">end&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">increment&lt;/span> {
&lt;span style="color:#000;font-weight:bold">display&lt;/span>: &lt;span style="color:#000;font-weight:bold">none&lt;/span>;
}
&lt;span style="color:#000080">pre&lt;/span>::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-thumb&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">vertical&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000080">pre&lt;/span>::&lt;span style="color:#3c5d5d;font-weight:bold">-webkit-scrollbar-thumb&lt;/span>:&lt;span style="color:#3c5d5d;font-weight:bold">horizontal&lt;/span> {
&lt;span style="color:#000;font-weight:bold">height&lt;/span>: &lt;span style="color:#099">3&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">width&lt;/span>: &lt;span style="color:#099">3&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
&lt;span style="color:#000;font-weight:bold">margin&lt;/span>: &lt;span style="color:#099">3&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span>;
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para terminar, foi aplicado em um elemento &lt;code>&amp;lt;pre&amp;gt;&lt;/code>. Todos os exemplos acima estão no meu GitHub, no repositório &lt;a href="https://github.com/leonardofaria/webkit-examples">webkit-examples&lt;/a>. &lt;a href="http://trac.webkit.org/export/41842/trunk/LayoutTests/scrollbars/overflow-scrollbar-combinations.html">Confira outros exemplos no site do WebKit&lt;/a>.&lt;/p>
&lt;h3 id="extra-detectando-o-webkit">Extra: detectando o WebKit&lt;/h3>
&lt;p>Você pode detectar se o browser do usuário usa WebKit rapidamente com Javascript:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="color:#000;font-weight:bold">if&lt;/span> (&lt;span style="color:#009926">/webkit/&lt;/span>.test(navigator.userAgent.toLowerCase())) {
alert(&lt;span style="color:#d14">&amp;#39;hello webkit!&amp;#39;&lt;/span>);
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>… e usar jQuery para carregar uma folha de estilo personalizada:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-javascript" data-lang="javascript">$(&lt;span style="color:#d14">&amp;#39;head&amp;#39;&lt;/span>).append(&lt;span style="color:#d14">&amp;#39;&amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;safari.css&amp;#34; type=&amp;#34;text/css&amp;#34; /&amp;gt;&amp;#39;&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>