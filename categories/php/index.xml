<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>php on Leonardo Faria</title><link>https://leonardofaria.net/categories/php/</link><description>Recent content in php on Leonardo Faria</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 12 Feb 2012 15:04:44 -0200</lastBuildDate><atom:link href="https://leonardofaria.net/categories/php/index.xml" rel="self" type="application/rss+xml"/><item><title>Geração de PDFs indolor no PHP</title><link>https://leonardofaria.net/2012/02/12/geracao-de-pdfs-indolor-no-php/</link><pubDate>Sun, 12 Feb 2012 15:04:44 -0200</pubDate><guid>https://leonardofaria.net/2012/02/12/geracao-de-pdfs-indolor-no-php/</guid><description>&lt;p>Tempos atrás escrevi um artigo sobre como gerar PDF dentro do Rails usando a gem &lt;a href="https://github.com/mileszs/wicked_pdf">wicked_pdf&lt;/a> e o &lt;a href="http://code.google.com/p/wkhtmltopdf">wkhtmltopdf&lt;/a>. Como escrevi no &lt;a href="https://leonardofaria.net/2011/08/31/geracao-de-pdfs-indolor-no-rails-3/">post anterior&lt;/a>, o wkhtmltopdf usa Webkit, a engine de renderização do Safari / Chrome para gerar a visualização do documento. Isso o torna superior se comparado com bibliotecas do PHP como o FPDF, pois, geralmente, essa bibliotecas possuem dificuldades para reproduzir efeitos de CSS.&lt;/p>
&lt;p>Em um novo projeto, estou usando novamente o wkhtmltopdf, mas agora dentro do PHP. &lt;a href="https://leonardofaria.net/2011/08/31/geracao-de-pdfs-indolor-no-rails-3/">No post anterior&lt;/a>, indiquei que você pode usar o binário disponível no site, entretanto no servidor atual, tive alguns problemas com isso. Então, se possível, compile o wkhtmltopdf direto da fonte.&lt;/p>
&lt;h3 id="compilação-passo-a-passo">Compilação passo-a-passo&lt;/h3>
&lt;p>Instale em seu servidor alguns pacotes que irá precisar:&lt;/p>
&lt;pre>&lt;code>apt-get install openssl build-essential xorg libssl-dev libxrender-dev git-core
&lt;/code>&lt;/pre>&lt;p>… e obtenha o código fonte recente do wkhtmltopdf:&lt;/p>
&lt;pre>&lt;code>git clone git://github.com/antialize/wkhtmltopdf.git wkhtmltopdf
git clone git://gitorious.org/+wkhtml2pdf/qt/wkhtmltopdf-qt.git wkhtmltopdf-qt
&lt;/code>&lt;/pre>&lt;p>Veja, para usar o wkhtmltopdf você precisará do QT. Nesse caso também vamos compilá-lo manualmente:&lt;/p>
&lt;pre>&lt;code>cd wkhtmltopdf-qt
git checkout staging
QTDIR=. ./bin/syncqt
./configure -nomake tools,examples,demos,docs,translations -opensource -prefix &amp;quot;../wkqt&amp;quot;
make -j3 &amp;amp;&amp;amp; make install
cd ..
&lt;/code>&lt;/pre>&lt;p>Com o QT gerado, você finalmente poderá compilar o wkhtmltopdf:&lt;/p>
&lt;pre>&lt;code>cd wkhtmltopdf
../wkqt/bin/qmake
make &amp;amp;&amp;amp; make install
&lt;/code>&lt;/pre>&lt;p>Não inventei a &lt;a href="http://code.google.com/p/wkhtmltopdf/wiki/compilation">receita&lt;/a> acima, mas ela funcionou perfeitamente no Debian. Com a compilação a pasta /usr/bin ganhou 2 novos executáveis: wkhtmltopdf e wkhtmltoimage. Com isso você já pode usar o utilitário pelo shell. Se quiser testá-lo, experimente:&lt;/p>
&lt;h3 id="php">PHP&lt;/h3>
&lt;p>Dentro do próprio site do wkhtmltopdf há uma &lt;a href="http://code.google.com/p/wkhtmltopdf/wiki/IntegrationWithPhp">classe em PHP&lt;/a> para utilizar o aplicativo dentro do seu site, entretanto, optei por uma &lt;a href="https://github.com/aur1mas/Wkhtmltopdf">classe disponível&lt;/a> no Github. Um simples exemplo, tirado do próprio repositório:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#000;font-weight:bold">try&lt;/span> {
&lt;span style="color:#008080">$wkhtmltopdf&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">new&lt;/span> Wkhtmltopdf(&lt;span style="color:#000;font-weight:bold">array&lt;/span>(&lt;span style="color:#d14">&amp;#39;path&amp;#39;&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> APPLICATION_PATH &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#d14">&amp;#39;/../public/uploads/&amp;#39;&lt;/span>));
&lt;span style="color:#008080">$wkhtmltopdf&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">setTitle&lt;/span>(&lt;span style="color:#d14">&amp;#34;Title&amp;#34;&lt;/span>);
&lt;span style="color:#008080">$wkhtmltopdf&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">setHtml&lt;/span>(&lt;span style="color:#d14">&amp;#34;Content&amp;#34;&lt;/span>);
&lt;span style="color:#008080">$wkhtmltopdf&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">output&lt;/span>(Wkhtmltopdf&lt;span style="color:#000;font-weight:bold">::&lt;/span>&lt;span style="color:#008080">MODE_DOWNLOAD&lt;/span>, &lt;span style="color:#d14">&amp;#34;file.pdf&amp;#34;&lt;/span>);
} &lt;span style="color:#000;font-weight:bold">catch&lt;/span> (Exception &lt;span style="color:#008080">$e&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#008080">$e&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">getMessage&lt;/span>();
}
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>O que o exemplo não mostra é como definir uma mensagem de rodapé. Só depois de algum tempo, percebi que o wkhtmltopdf busca um arquivo externo. No meu aplicativo, defino o rodapé dinamicamente:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">$wkhtmltopdf-&amp;gt;setFooterHtml(&amp;#34;footer.php?msg=&amp;#39;Hello World!&amp;#39;&amp;#34;);
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Coletânea de dicas sobre WordPress</title><link>https://leonardofaria.net/2011/04/24/coletanea-de-dicas-sobre-wordpress/</link><pubDate>Sun, 24 Apr 2011 15:58:32 -0300</pubDate><guid>https://leonardofaria.net/2011/04/24/coletanea-de-dicas-sobre-wordpress/</guid><description>&lt;p>Resolvi escrever uma série de posts com diversas dicas para o WordPress.&lt;/p>
&lt;h3 id="temas">Temas&lt;/h3>
&lt;p>Vai escrever um template do zero? Recomendo começar pelo &lt;a href="http://html5boilerplate.com/">HTML5 Boilerplate&lt;/a>. Trata-se de um template com diversas otimizações e resets para garantir a compatibilidade máxima entre browsers.&lt;/p>
&lt;p>Também é interessante uma leitura sobre o &lt;a href="http://codex.wordpress.org/Theme_Development">desenvolvimento de temas&lt;/a>, principalmente sobre a &lt;a href="http://codex.wordpress.org/Template_Hierarchy">hierarquia dos templates&lt;/a> e a função &lt;a href="http://codex.wordpress.org/Function_Reference/get_template_part">get_template&lt;/a>. Venho utilizando essa função para não repetir código nos arquivos &lt;code>archive.php&lt;/code>, &lt;code>page.php&lt;/code>, &lt;code>search.php&lt;/code> e &lt;code>single.php&lt;/code>.&lt;/p>
&lt;h3 id="rascunhos-de-posts">Rascunhos de posts&lt;/h3>
&lt;p>O WordPress salva automaticamente seus posts, o que pode aumentar o tamanho de seu banco de dados. Para desabilitar esse recurso, você pode editar o arquivo &lt;code>/wp-config.php&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
define(&lt;span style="color:#d14">&amp;#39;WP_POST_REVISIONS&amp;#39;&lt;/span>, &lt;span style="color:#000;font-weight:bold">false&lt;/span>);
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Para apagar os rascunhos já escritos, você pode usar o plugin &lt;a href="http://www.1e2.it/tag/better-delete-revision">&lt;strong>Better Delete Revision&lt;/strong>&lt;/a>, ou executar a seguinte query:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sql" data-lang="sql">&lt;span style="color:#000;font-weight:bold">DELETE&lt;/span> a,b,&lt;span style="color:#000;font-weight:bold">c&lt;/span>
&lt;span style="color:#000;font-weight:bold">FROM&lt;/span> wp_posts a
&lt;span style="color:#000;font-weight:bold">LEFT&lt;/span> &lt;span style="color:#000;font-weight:bold">JOIN&lt;/span> wp_term_relationships b &lt;span style="color:#000;font-weight:bold">ON&lt;/span> (a.ID &lt;span style="color:#000;font-weight:bold">=&lt;/span> b.object_id)
&lt;span style="color:#000;font-weight:bold">LEFT&lt;/span> &lt;span style="color:#000;font-weight:bold">JOIN&lt;/span> wp_postmeta &lt;span style="color:#000;font-weight:bold">c&lt;/span> &lt;span style="color:#000;font-weight:bold">ON&lt;/span> (a.ID &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">c&lt;/span>.post_id)
&lt;span style="color:#000;font-weight:bold">WHERE&lt;/span> a.post_type &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#d14">&amp;#39;revision&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="rss">RSS&lt;/h3>
&lt;p>Você pode ler RSS usando a função &lt;code>wp_rss&lt;/code> do próprio WordPress. Exemplo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#000;font-weight:bold">include_once&lt;/span>(ABSPATH&lt;span style="color:#000;font-weight:bold">.&lt;/span>WPINC&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#d14">&amp;#39;/rss.php&amp;#39;&lt;/span>);
wp_rss(&lt;span style="color:#d14">&amp;#39;http://mysite.com/feed&amp;#39;&lt;/span>, &lt;span style="color:#099">5&lt;/span>);
&lt;span style="color:#000;font-weight:bold">?&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Outra forma é através do plugin &lt;a href="http://wordpress.org/extend/plugins/rss-import/">&lt;strong>RSS Import&lt;/strong>&lt;/a>. Com ele você pode ler um feed usando o shortcode &lt;code>[RSSImport]&lt;/code>. Exemplo:&lt;/p>
&lt;pre>&lt;code>[RSSImport display=&amp;quot;10&amp;quot;, feedurl=&amp;quot;http://mysite.com/feed&amp;quot;]
&lt;/code>&lt;/pre>&lt;p>O uso via shortcode é importante para que um usuário de seu blog possa ler um feed dentro de um post, sem executar diretamente PHP, como no uso da função &lt;code>wp_rss&lt;/code>.&lt;/p>
&lt;h3 id="plugins-relevantes">Plugins relevantes&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="http://brunopedrassani.com/wordpress/plugins/browser-sniff">&lt;strong>Browser Sniff&lt;/strong>&lt;/a>: detecta o browser/os do usuário que comenta em seu blog;&lt;/li>
&lt;li>&lt;a href="http://guff.szub.net/head-meta-description/">&lt;strong>Head Meta Description&lt;/strong>&lt;/a>: insere a tag &lt;code>&amp;lt;meta&amp;gt;&lt;/code> com o resumo ou conteúdo de seu post ou página;&lt;/li>
&lt;li>&lt;a href="http://planetozh.com/blog/2004/08/ip-to-nation-plugin/">&lt;strong>IP to Nation&lt;/strong>&lt;/a>: localiza o país do usuário que comenta em seu blog através do IP;&lt;/li>
&lt;li>&lt;a href="http://alexrabe.de/wordpress-plugins/nextgen-gallery/">&lt;strong>NextGEN Gallery&lt;/strong>&lt;/a>: sistema de galerias de fotos para o WordPress. Você cria as galerias e faz o embed em suas páginas ou posts. E há ainda uma &lt;a href="http://nextgen-gallery.com/slideshow/nextgen-monoslideshow/">integração com o Monoslideshow&lt;/a>;&lt;/li>
&lt;li>&lt;a href="http://wordpress.org/extend/plugins/php-execution-plugin/">&lt;strong>PHP Executation&lt;/strong>&lt;/a>: permite a execução de PHP dentro dos seus posts;&lt;/li>
&lt;li>&lt;a href="http://atastypixel.com/blog/wordpress/plugins/smart-404/">&lt;strong>Smart 404&lt;/strong>&lt;/a>: provê sugestões de páginas e posts quando uma página não é localizada;&lt;/li>
&lt;li>&lt;a href="http://austinmatzko.com/wordpress-plugins/wp-db-backup/">&lt;strong>WordPress Database Backup&lt;/strong>&lt;/a>: permite fazer um backup do seu banco de dados, dando a opção de download direto, envio por email ou cópia no próprio servidor. É um plugin útil caso você não tenha acesso ao MySQL do seu servidor;&lt;/li>
&lt;li>&lt;a href="http://mitcho.com/code/yarpp/">&lt;strong>Yet Another Related Posts Plugin&lt;/strong>&lt;/a>: apresenta posts relacionados ao exibido, inclusive no feed do seu blog&lt;/li>
&lt;li>&lt;a href="http://yoast.com/wordpress/breadcrumbs/">&lt;strong>Yoast Breadcrumbs&lt;/strong>&lt;/a>: cria migalhas de pão para serem usadas em seu template.&lt;/li>
&lt;/ul></description></item><item><title>Busca nos campos personalizados do WordPress</title><link>https://leonardofaria.net/2011/03/13/busca-nos-campos-personalizados-do-wordpress/</link><pubDate>Sun, 13 Mar 2011 12:33:57 -0300</pubDate><guid>https://leonardofaria.net/2011/03/13/busca-nos-campos-personalizados-do-wordpress/</guid><description>&lt;p>Os campos personalizados é um recurso usado no WordPress para que o autor de um post possa armazenar dados a sua escolha. Você pode usar esse recurso de várias formas: mostrar imagens personalizadas, falar o que você está ouvindo durante a escrita do post, adicionar informação pessoal e &lt;a href="http://performancing.com/jazz_up_your_site__28_ways_to_use_wordpress_custom_fields/">muito mais&lt;/a>. Em um blog sobre livros, você pode usar tal recurso para criar os campos “Autor”, “Editora”, “Ano” e por aí vai.&lt;/p>
&lt;p>Estou trabalhando em um projeto que utiliza os campos personalizados na área de Imprensa, onde cada post aponta em que tipo de imprensa determinada informação foi postada: Rádio, TV, Internet, Jornal. Como dito acima, criar o campo personalizado é simples. Difícil é filtrar os posts de acordo com o valor do campo.&lt;/p>
&lt;h3 id="a-solução">A solução&lt;/h3>
&lt;p>Descobri um plugin chamado &lt;a href="http://guff.szub.net/2006/04/21/search-custom-fields/">Search Custom Fields&lt;/a>. Numa explicação rápida, ele adiciona os Campos Personalizados na query de busca de posts.&lt;/p>
&lt;p>Antes:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-html" data-lang="html">&amp;lt;&lt;span style="color:#000080">a&lt;/span> &lt;span style="color:#008080">href&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;/?s=minhabusca&amp;#34;&lt;/span>&amp;gt;minha busca&amp;lt;/&lt;span style="color:#000080">a&lt;/span>&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Depois:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-html" data-lang="html">&amp;lt;&lt;span style="color:#000080">a&lt;/span> &lt;span style="color:#008080">href&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;?meucampopersonalizado=Veículo&amp;amp;s=meuvalordocampopersonalizado&amp;#34;&lt;/span>&amp;gt;minha busca pelo campo personalizado&amp;lt;/&lt;span style="color:#000080">a&lt;/span>&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Na &lt;a href="http://guff.szub.net/2006/04/21/search-custom-fields/">documentação do plugin&lt;/a>, o autor mostra como turbinar o campo de busca do WordPress. Ao invés disso, escrevi uma pequena função para listar os valores de um atributo personalizado:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#000;font-weight:bold">function&lt;/span> &lt;span style="color:#900;font-weight:bold">list_custom_fields&lt;/span>(&lt;span style="color:#008080">$metakey&lt;/span>, &lt;span style="color:#008080">$output&lt;/span>) {
&lt;span style="color:#998;font-style:italic">// based on http://sixrevisions.com/wordpress/custom-fields-search/
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">global&lt;/span> &lt;span style="color:#008080">$wpdb&lt;/span>;
&lt;span style="color:#008080">$items&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#008080">$wpdb&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">get_col&lt;/span>(&lt;span style="color:#008080">$wpdb&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">prepare&lt;/span>(&lt;span style="color:#d14">&amp;#34;SELECT DISTINCT meta_value FROM &lt;/span>&lt;span style="color:#d14">$wpdb-&amp;gt;postmeta&lt;/span>&lt;span style="color:#d14"> WHERE meta_key = %s ORDER BY meta_value ASC&amp;#34;&lt;/span>, &lt;span style="color:#008080">$metakey&lt;/span>) );
&lt;span style="color:#000;font-weight:bold">if&lt;/span> (&lt;span style="color:#008080">$items&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">if&lt;/span> (&lt;span style="color:#008080">$output&lt;/span> &lt;span style="color:#000;font-weight:bold">==&lt;/span> &lt;span style="color:#d14">&amp;#34;dropdown&amp;#34;&lt;/span>) { &lt;span style="color:#998;font-style:italic">// display values in a select
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;form action=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">/&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> method=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">get&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;gt;&amp;lt;input type=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">hidden&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> name=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">key&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> value=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">$metakey\&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">/&amp;gt;&amp;lt;&lt;/span>select name&lt;span style="color:#000;font-weight:bold">=&lt;/span>\&lt;span style="color:#d14">&amp;#34;s&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14"> onchange=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">this.form.submit();&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;gt;&amp;lt;option&amp;gt;&amp;lt;/option&amp;gt;&amp;#34;&lt;/span>;
&lt;span style="color:#000;font-weight:bold">foreach&lt;/span> (&lt;span style="color:#008080">$items&lt;/span> &lt;span style="color:#000;font-weight:bold">as&lt;/span> &lt;span style="color:#008080">$item&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;option value=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#008080">$item&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">&amp;gt;&amp;#34;&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#008080">$item&lt;/span> &lt;span style="color:#000;font-weight:bold">.&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;/option&amp;gt;&amp;#34;&lt;/span>;
}
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;/select&amp;gt;&amp;lt;/form&amp;gt;&amp;#34;&lt;/span>;
} &lt;span style="color:#000;font-weight:bold">else&lt;/span> &lt;span style="color:#000;font-weight:bold">if&lt;/span> (&lt;span style="color:#008080">$output&lt;/span> &lt;span style="color:#000;font-weight:bold">==&lt;/span> &lt;span style="color:#d14">&amp;#34;list&amp;#34;&lt;/span>) { &lt;span style="color:#998;font-style:italic">// display values in a list
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;ul&amp;gt;&amp;#34;&lt;/span>;
&lt;span style="color:#000;font-weight:bold">foreach&lt;/span> (&lt;span style="color:#008080">$items&lt;/span> &lt;span style="color:#000;font-weight:bold">as&lt;/span> &lt;span style="color:#008080">$item&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;&amp;lt;li&amp;gt;&amp;lt;a href=&lt;/span>&lt;span style="color:#d14">\&amp;#34;&lt;/span>&lt;span style="color:#d14">/?s=&lt;/span>&lt;span style="color:#d14">$item&lt;/span>&lt;span style="color:#d14">&amp;amp;key=&lt;/span>&lt;span style="color:#d14">$metakey\&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#008080">$item&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>a&lt;span style="color:#000;font-weight:bold">&amp;gt;&amp;lt;/&lt;/span>li&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#d14">&amp;#34;;
&lt;/span>&lt;span style="color:#d14"> }
&lt;/span>&lt;span style="color:#d14"> echo &amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>ul&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#d14">&amp;#34;;
&lt;/span>&lt;span style="color:#d14"> }
&lt;/span>&lt;span style="color:#d14"> }
&lt;/span>&lt;span style="color:#d14">}
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Coloque a função acima no arquivo functions.php do seu tema e chame-a, de duas formas, em seu sidebar, por exemplo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span> &lt;span style="color:#000;font-weight:bold">if&lt;/span>(function_exists(&lt;span style="color:#d14">&amp;#39;list_custom_fields&amp;#39;&lt;/span>)) list_custom_fields(&lt;span style="color:#d14">&amp;#34;Veículo&amp;#34;&lt;/span>, &lt;span style="color:#d14">&amp;#34;dropdown&amp;#34;&lt;/span>); &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>…para mostrar os valores do campo personalizado “Veículo” em select do HTML ou…&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span> &lt;span style="color:#000;font-weight:bold">if&lt;/span>(function_exists(&lt;span style="color:#d14">&amp;#39;list_custom_fields&amp;#39;&lt;/span>)) list_custom_fields(&lt;span style="color:#d14">&amp;#34;Veículo&amp;#34;&lt;/span>, &lt;span style="color:#d14">&amp;#34;list&amp;#34;&lt;/span>); &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>…para mostrar os valores do campo personalizado “Veículo” em uma lista.&lt;/p></description></item><item><title>Alternativas ao PHPMyAdmin</title><link>https://leonardofaria.net/2009/08/22/alternativas-ao-phpmyadmin/</link><pubDate>Sat, 22 Aug 2009 16:32:36 -0300</pubDate><guid>https://leonardofaria.net/2009/08/22/alternativas-ao-phpmyadmin/</guid><description>&lt;p>O &lt;a href="http://www.phpmyadmin.net/">&lt;strong>PHPMyAdmin&lt;/strong>&lt;/a> é quase uma unanimidade em gerenciadores de banco de dados MySQL. Mas existe vida além dele. Vamos lá:&lt;/p>
&lt;h3 id="sql-buddy">SQL Buddy&lt;/h3>
&lt;p>O &lt;a href="http://www.sqlbuddy.com/">&lt;strong>SQL Buddy&lt;/strong>&lt;/a> é uma alternativa bacana, com bonita interface e traduzido para vários idiomas, incluindo português.&lt;/p>
&lt;center>
&lt;a href="http://www.sqlbuddy.com/">&lt;img src="https://leonardofaria.net/wp-content/uploads/2009/08/sqlbuddy.jpg" alt="sqlbuddy" title="sqlbuddy" />&lt;/a>
&lt;/center>
&lt;h3 id="adminer">Adminer&lt;/h3>
&lt;p>Já o &lt;strong>&lt;a href="http://www.adminer.org/">Adminer&lt;/a>&lt;/strong> é um app em php feito em 1(!) único arquivo. Possui diversas traduções (nenhuma ainda em português) mas é altamente indicado o mantermos em nossos servidores para uma rápida manutenção.&lt;/p>
&lt;center>
&lt;a href="http://www.adminer.org/">&lt;img src="https://leonardofaria.net/wp-content/uploads/2009/08/adminer.png" alt="adminer" title="adminer" />&lt;/a>
&lt;/center></description></item><item><title>URL curta no WordPress</title><link>https://leonardofaria.net/2009/04/26/url-curta-no-wordpress/</link><pubDate>Sun, 26 Apr 2009 14:46:56 -0300</pubDate><guid>https://leonardofaria.net/2009/04/26/url-curta-no-wordpress/</guid><description>&lt;p>As URLs curtas possuem muitas utilizações por aí, principalmente em microblogs como o Twitter.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#000;font-weight:bold">function&lt;/span> &lt;span style="color:#900;font-weight:bold">getShortUrl&lt;/span>(&lt;span style="color:#008080">$url&lt;/span>) {
&lt;span style="color:#008080">$tinyurl&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> file_get_contents(&lt;span style="color:#d14">&amp;#34;http://tinyurl.com/api-create.php?url=&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#008080">$url&lt;/span>);
&lt;span style="color:#000;font-weight:bold">return&lt;/span> &lt;span style="color:#008080">$tinyurl&lt;/span>;
}
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Use a função acima no arquivo functions.php do seu tema. Para exibir o link, crie a seguinte linha no arquivo do post – single.php:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span> &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#39;&amp;lt;a href=&amp;#34;&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>getShortUrl(get_permalink(&lt;span style="color:#008080">$post&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">ID&lt;/span>))&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#d14">&amp;#39;&amp;#34;&amp;gt;short url&amp;#39;&lt;/span>; &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>PHP junto com o Passenger no Leopard</title><link>https://leonardofaria.net/2008/11/26/php-junto-com-o-passenger-no-leopard/</link><pubDate>Wed, 26 Nov 2008 23:32:30 -0200</pubDate><guid>https://leonardofaria.net/2008/11/26/php-junto-com-o-passenger-no-leopard/</guid><description>&lt;p>Na minha máquina de desenvolvimento uso o Passenger para trabalhar com o Rails e hoje eu precisei fazer alguns testes com PHP. Deixar o PHP junto com o Passenger é tão simples como 2 + 2 são 4. Vamos lá.&lt;/p>
&lt;p>Abra o arquivo de configuração do Apache (&lt;code>/etc/apache2/httpd.conf&lt;/code>) como superusuário e procure a linha que chama o módulo do PHP (linha 114):&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-apache" data-lang="apache">&lt;span style="color:#0086b3">LoadModule&lt;/span> php5_module libexec/apache2/libphp5.so
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Basta descomentar essa linha. Em seguida, no fim desse arquivo, crie um host virtual chamado php:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-apache" data-lang="apache">&lt;span style="color:#000080">&amp;lt;virtualhost&lt;/span> &lt;span style="color:#d14">*:80&lt;/span>&lt;span style="color:#000080">&amp;gt;&lt;/span>
&lt;span style="color:#0086b3">ServerName&lt;/span> php
&lt;span style="color:#0086b3">DocumentRoot&lt;/span> &lt;span style="color:#d14">&amp;#34;/Users/leonardofaria/Sites/php&amp;#34;&lt;/span>
&lt;span style="color:#000080">&amp;lt;directory&lt;/span> &lt;span style="color:#d14">&amp;#34;/Users/leonardofaria/Sites/php&amp;#34;&lt;/span>&lt;span style="color:#000080">&amp;gt;&lt;/span>
&lt;span style="color:#0086b3">Options&lt;/span> Indexes MultiViews
&lt;span style="color:#0086b3">AllowOverride&lt;/span> &lt;span style="color:#000;font-weight:bold">None&lt;/span>
&lt;span style="color:#0086b3">Order&lt;/span> allow,deny
&lt;span style="color:#0086b3">Allow&lt;/span> from &lt;span style="color:#000;font-weight:bold">all&lt;/span>
&lt;span style="color:#000080">&amp;lt;/directory&amp;gt;&lt;/span>
&lt;span style="color:#000080">&amp;lt;/virtualhost&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Pronto. Agora a url http://php/ responderá pelo conteúdo da pasta “/Users/leonardofaria/Sites/php”. Lá dentro, você pode criar um index.php e para testar se está tudo ok, use o conhecido phpinfo()&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
phpinfo();
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Se tudo der certo, você terá uma tela como a seguinte :)&lt;/p>
&lt;center>
&lt;img src="https://leonardofaria.net/wp-content/uploads/2008/11/phpinfo.jpg" alt="" title="phpinfo" />
&lt;/center></description></item><item><title>Obtendo o número de leitores do seu Feedburner</title><link>https://leonardofaria.net/2008/05/02/obtendo-o-numero-de-leitores-do-seu-feedburner/</link><pubDate>Fri, 02 May 2008 05:50:54 -0300</pubDate><guid>https://leonardofaria.net/2008/05/02/obtendo-o-numero-de-leitores-do-seu-feedburner/</guid><description>&lt;p>Post rápido da madrugada: eu e toda blogosfera (sic) que utiliza o Feedburner para gerenciar feeds de blogs e whatever pode não gostar dessa imagenzinha:&lt;/p>
&lt;center>
&lt;img src="https://feeds.feedburner.com/~fc/leonardofaria" />
&lt;/center>
&lt;p>Esse azul-calcinha geralmente não combina muito com os layouts de nossos sites. Eu sei que existe forma de mudar de azul-calcinha para rosa-bebê, mas isso não melhora grandes coisas. A solução em duas linhas está no PHP:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#008080">$xml&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> simplexml_load_file(&lt;span style="color:#d14">&amp;#34;http://api.feedburner.com/awareness/1.0/GetFeedData?uri=SEUFEED&amp;#34;&lt;/span>);
&lt;span style="color:#008080">$subs&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#008080">$xml&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">feed&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">entry&lt;/span>[&lt;span style="color:#d14">&amp;#39;circulation&amp;#39;&lt;/span>];
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>O método &lt;a href="http://br2.php.net/simplexml_load_file">simplexml_load_file&lt;/a> é um parser rápido e esperto do PHP 5. No código acima, $subs retorna o número de leitores. Simples assim.&lt;/p></description></item><item><title>Alterando o PHP.ini da Dreamhost</title><link>https://leonardofaria.net/2007/10/19/alterando-o-phpini-da-dreamhost/</link><pubDate>Fri, 19 Oct 2007 13:21:42 -0200</pubDate><guid>https://leonardofaria.net/2007/10/19/alterando-o-phpini-da-dreamhost/</guid><description>&lt;p>Algumas configurações do PHP da Dreamhost, como o uso do fopen(), são desabilitadas por questões de segurança. Isso pode atrapalhar o funcionamento de suas aplicações. Entretanto, é possível habilitar essa e outras funções via shell.&lt;/p>
&lt;p>O &lt;a href="http://wiki.dreamhost.com">wiki&lt;/a> da Dreamhost traz muitas dicas sobre a configuração do &lt;a href="http://wiki.dreamhost.com/index.php/PHP.ini">PHP.ini&lt;/a>. Uma que eu reproduzo abaixo é a habilitação do fopen().&lt;/p>
&lt;p>Após fazer uma conexão ssh com o servidor, crie o seguinte shellscript:&lt;/p>
&lt;h3 id="php-4">PHP 4&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#999;font-weight:bold;font-style:italic">#!/bin/sh
&lt;/span>&lt;span style="color:#999;font-weight:bold;font-style:italic">&lt;/span>&lt;span style="color:#008080">CGIFILE&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$HOME&lt;/span>&lt;span style="color:#d14">/[your website directory]/cgi-bin/php.cgi&amp;#34;&lt;/span>
&lt;span style="color:#008080">INIFILE&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$HOME&lt;/span>&lt;span style="color:#d14">/[your website directory]/cgi-bin/php.ini&amp;#34;&lt;/span>
cp /dh/cgi-system/php.cgi &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$CGIFILE&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>
cp /etc/php/cgi/php.ini &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$INIFILE&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>
perl -p -i -e &lt;span style="color:#d14">&amp;#39;
&lt;/span>&lt;span style="color:#d14">s/.*allow_url_fopen.*/allow_url_fopen = On/;
&lt;/span>&lt;span style="color:#d14">&amp;#39;&lt;/span> &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$INIFILE&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="php-5">PHP 5&lt;/h3>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#999;font-weight:bold;font-style:italic">#!/bin/sh
&lt;/span>&lt;span style="color:#999;font-weight:bold;font-style:italic">&lt;/span>&lt;span style="color:#008080">CGIFILE&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$HOME&lt;/span>&lt;span style="color:#d14">/[your website directory]/cgi-bin/php.cgi&amp;#34;&lt;/span>
&lt;span style="color:#008080">INIFILE&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$HOME&lt;/span>&lt;span style="color:#d14">/[your website directory]/cgi-bin/php.ini&amp;#34;&lt;/span>
cp /dh/cgi-system/php5.cgi &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$CGIFILE&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>
cp /etc/php5/cgi/php.ini &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$INIFILE&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>
perl -p -i -e &lt;span style="color:#d14">&amp;#39;
&lt;/span>&lt;span style="color:#d14">s/.*allow_url_fopen.*/allow_url_fopen = On/;
&lt;/span>&lt;span style="color:#d14">&amp;#39;&lt;/span> &lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#008080">$INIFILE&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Defina qual o domínio a ser alterado (linha 2 do script), salve esse script, dê permissão de execução (chmod +x php-update.sh) e o execute (./php-update.sh).&lt;/p>
&lt;p>Você também pode colocá-lo em execução semanalmente, para evitar erros futuros. Para isso, abra o crontab (crontab -e) e agende: @weekly /home/myusername/php-update.sh&lt;/p>
&lt;p>[update]: via comentário do Vinícius, vale lembrar que deve-se criar um arquivo .htaccess, para mudar o modo de como o PHP é executado por padrão:&lt;/p>
&lt;pre>&lt;code>Options +ExecCGI
Action php-cgi /cgi-bin/php.cgi
AddHandler php-cgi .php
&lt;/code>&lt;/pre></description></item><item><title>Conheça o sNews, mini CMS profissional em PHP</title><link>https://leonardofaria.net/2007/07/16/conheca-o-snews-mini-cms-profissional-em-php/</link><pubDate>Mon, 16 Jul 2007 19:10:20 -0300</pubDate><guid>https://leonardofaria.net/2007/07/16/conheca-o-snews-mini-cms-profissional-em-php/</guid><description>&lt;p>O &lt;a href="http://www.solucija.com/home/snews/">sNews&lt;/a> é uma solução em PHP/MySQL que conheci baseada em 1 único arquivo, leve, rápido, fácil de instalar e webstandards. Com todos esses features listados em seu site, resolvi &lt;a href="http://www.snews.leonardofaria.net">instalar em um subdominio&lt;/a>. O adminstrador é bem simples e minimalista. O sistema possui busca, URLs amigáveis e RSS para todo o site. Além disso, existe um &lt;a href="http://forum.solucija.com/">fórum&lt;/a> da aplicação, com &lt;a href="http://forum.solucija.com/viewforum.php?id=52">traduções&lt;/a> para vários idiomas e alguns &lt;a href="http://forum.solucija.com/viewforum.php?id=50">mods&lt;/a> interessantes.&lt;/p></description></item><item><title>Alternativa em webmail</title><link>https://leonardofaria.net/2006/06/08/alternativa-em-webmail/</link><pubDate>Thu, 08 Jun 2006 02:25:48 -0300</pubDate><guid>https://leonardofaria.net/2006/06/08/alternativa-em-webmail/</guid><description>&lt;p>Quem usa webmail de servidores LAMP provavelmente conhece as sérias limitações do Horde e do SquirelMail, que são instalados juntos no cPanel. Interfaces feias e falta de usabilidade sempre estão ligadas a esses webmails.&lt;/p>
&lt;p>Entretando, conheci semana passada o &lt;a href="http://www.roundcube.net/">RoundCube&lt;/a>, um cliente de email com código XHTML válido, bonito e altamente personalizável.&lt;/p>
&lt;center>
&lt;img src="https://leonardofaria.net/wp-content/uploads/2006/06/roundcube.jpg" alt="RoundCube no Safari" />
&lt;/center>
&lt;p>Para instalar o RoundCube, você precisa de uma conta com acesso a shell. Os clientes da &lt;a href="http://www.webhost.com.br">Webhost&lt;/a> já contam com esse cliente já instalado (não sei se foi por sugestão minha ou se eles já conheciam). Do site deles, há um &lt;a href="http://www.hostgeekz.com/guides/cPanel/64/Install_RoundCube_on_cPanel.htm">tutorial&lt;/a> de instalação. Boa sorte!&lt;/p></description></item><item><title>Top plugins para WordPress</title><link>https://leonardofaria.net/2006/06/04/top-plugins-para-wordpress/</link><pubDate>Sun, 04 Jun 2006 16:42:15 -0300</pubDate><guid>https://leonardofaria.net/2006/06/04/top-plugins-para-wordpress/</guid><description>&lt;p>WordPress é unanimidade em solução para blog. Há uns três anos, quando comecei minha vida blogger, eu mesmo escrevia um pequeno gerenciador de notícias, mas isso não se mostrou tão eficiente. Depois disso, adotei o &lt;a href="http://ajfork.berlios.de/">AJ-Fork&lt;/a>, mas esse também não se mostrou tão eficiente. Adotei o WordPress e agora relato alguns plugins bastantes interessantes, que uso aqui, ou na extranet da empresa (sim, aonde trabalho estamos desenvolvendo uma extranet).&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://priyadi.net/archives/2005/03/29/wordpress-browser-detection-plugin/">Browser Sniff&lt;/a>: exibe informações de browser e sistema operacional de quem comenta.&lt;/li>
&lt;li>&lt;a href="http://www.oneofthosedays.org.uk/projects/plugin-archives">A Different Monthly Archive Script&lt;/a>: exibe o arquivo de posts em forma de tabela.&lt;/li>
&lt;li>&lt;a href="http://daryl.learnhouston.com/">PHP Highlighter&lt;/a>: colore a sintaxe de scripts PHP&lt;/li>
&lt;li>&lt;a href="http://www.theoompa.com/wordpress/quote-from-txt/">Quote from TXT&lt;/a>: Frases aleatórias de um TXT no blog&lt;/li>
&lt;li>&lt;a href="http://txfx.net/search/subscribe%20to%20comments%202">Subscribe to comments&lt;/a>: Adiciona um campo no formulário de comentários que permite acompanhar as discussões por email&lt;/li>
&lt;li>&lt;a href="http://frenchfragfactory.net/ozh/archives/2004/08/27/ip-to-nation-plugin/">IP2Nation&lt;/a>: Exibe o país de quem comenta&lt;/li>
&lt;li>&lt;a href="http://hitormiss.org/archives/2004/12/20/weighted-categories-list-in-wordpress/">Weighted Categories&lt;/a>: Exibe as categorias do blog em formato tagcloud, ou seja, categorias com mais posts em maior tamanho de fonte&lt;/li>
&lt;li>&lt;a href="http://blog.taragana.com/index.php/archive/angsumans-authenticated-wordpress-plugin-password-protection-for-your-wordpress-blog/">Angsuman?s Authenticated&lt;/a>: Restringe o acesso ao WordPress apenas a usuários cadastrados.&lt;/li>
&lt;li>&lt;a href="http://addictedtonew.com/archives/145/wordpress-live-search-plugin/">Live Search&lt;/a>: busca estilo Google Suggest&lt;/li>
&lt;li>&lt;a href="http://www.acmetech.com/blog/2005/07/26/adsense-deluxe-wordpress-plugin/">AdSense-Deluxe&lt;/a>: plugin para melhor gerenciamento do Adsense&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>[update 22/06/06]&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.kimili.com/plugins/kml_flashembed/wp">Kimili Flash Embed&lt;/a>: agradável inserção de Flash nos posts&lt;/li>
&lt;li>&lt;a href="http://dev.wp-plugins.org/wiki/wp-postratings">WPPostRatings&lt;/a>: agradável AJAX para votação dos seus posts&lt;/li>
&lt;li>&lt;a href="http://boren.nu/archives/2004/10/13/theme-switcher-plugin/">ThemeSwitcher&lt;/a>: plugin para gerenciar temas&lt;/li>
&lt;li>&lt;a href="http://wordpress.org/support/topic/3621">WP2PDF&lt;/a>: converte posts em PDF&lt;/li>
&lt;li>&lt;a href="http://www.m3nt0r.de/blog/lightbox-wordpress-plugin/">Lightbox 2&lt;/a>: Plugin que permite linkar imagens em uma mesma página de forma dinâmica&lt;/li>
&lt;li>&lt;a href="http://binarybonsai.com/wordpress/time-since/">Time Since&lt;/a>: insere uma função que calcula o tempo de um post, tipo: “2 dias atrás”&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>[update 21/10/06]&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://www.stimuli.ca/ajaxcontact">Ajax Contact&lt;/a>: incrementa um formulário de contato no WordPress. O envio do formulário é feito via Ajax. Usado na seção “Contato”.&lt;/li>
&lt;li>&lt;a href="http://priyadi.net/archives/2005/03/02/wordpress-php-exec-plugin/">PHPExec&lt;/a>: permite a execução de PHP nos posts&lt;/li>
&lt;li>&lt;a href="http://brunotorres.net/bt-feedburner-subscribers">BT Feedburner Subscribers&lt;/a>: plugin do Bruno, retorna o número de leitores do seu Feedburner&lt;/li>
&lt;/ul>
&lt;h3 id="outras-dicas">Outras dicas&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="http://www.zoundry.com/">Zoundry&lt;/a>: Não é um plugin, mas sim um aplicativo para Windows para postar seus posts sem precisar ir no Admistrador.&lt;/li>
&lt;li>&lt;a href="http://taijiquan.pro.br/baixar/">Tradução&lt;/a> do adminstrador e tema padrão do WordPress para o português.&lt;/li>
&lt;li>&lt;a href="http://groups.yahoo.com/group/wpbrasil/">Lista de discussão&lt;/a> no Yahoo sobre WordPress&lt;/li>
&lt;/ul></description></item><item><title>Webalizer</title><link>https://leonardofaria.net/2006/06/04/webalizer/</link><pubDate>Sun, 04 Jun 2006 15:29:38 -0300</pubDate><guid>https://leonardofaria.net/2006/06/04/webalizer/</guid><description>&lt;p>O Webalizer, para quem não sabe, é um software que mostra as estatísticas de utilização de um site. Seu acesso, na maioria das vezes, é feita pelo cPanel, painel de controle do servidor. Esse acesso só acontece se o usuário estiver logado, o que pode inviabilizar o acesso as estatísticas por pessoas sem a senha.&lt;br>
Entretanto, há uma forma de exibir esses dados, publicamente.&lt;/p>
&lt;p>Basta criar um arquivo, por exemplo, stats.php, com o seguinte conteúdo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#998;font-style:italic">//dv at josheli.com
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span>&lt;span style="color:#008080">$user&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#d14">&amp;#39;usuario&amp;#39;&lt;/span>;
&lt;span style="color:#008080">$pass&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#d14">&amp;#39;senha&amp;#39;&lt;/span>;
&lt;span style="color:#008080">$url&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#d14">&amp;#39;www.servidor.com&amp;#39;&lt;/span>; &lt;span style="color:#998;font-style:italic">// Sem o &amp;#39;http://&amp;#39;
&lt;/span>&lt;span style="color:#998;font-style:italic">// Recebendo o arquivo
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span>&lt;span style="color:#000;font-weight:bold">function&lt;/span> &lt;span style="color:#900;font-weight:bold">getFile&lt;/span>(&lt;span style="color:#008080">$file&lt;/span>){
&lt;span style="color:#000;font-weight:bold">global&lt;/span> &lt;span style="color:#008080">$user&lt;/span>, &lt;span style="color:#008080">$pass&lt;/span>, &lt;span style="color:#008080">$url&lt;/span>;
&lt;span style="color:#000;font-weight:bold">return&lt;/span> file_get_contents(&lt;span style="color:#d14">&amp;#34;http://&lt;/span>&lt;span style="color:#d14">$user&lt;/span>&lt;span style="color:#d14">:&lt;/span>&lt;span style="color:#d14">$pass&lt;/span>&lt;span style="color:#d14">@&lt;/span>&lt;span style="color:#d14">$url&lt;/span>&lt;span style="color:#d14">:2082/tmp/&lt;/span>&lt;span style="color:#d14">$user&lt;/span>&lt;span style="color:#d14">/webalizer/&lt;/span>&lt;span style="color:#d14">$file&lt;/span>&lt;span style="color:#d14">&amp;#34;&lt;/span>);
}
&lt;span style="color:#998;font-style:italic">// Alterando valores dos links
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span>&lt;span style="color:#000;font-weight:bold">function&lt;/span> &lt;span style="color:#900;font-weight:bold">changeLinks&lt;/span>(&lt;span style="color:#008080">$subject&lt;/span>, &lt;span style="color:#008080">$type&lt;/span>) {
&lt;span style="color:#000;font-weight:bold">return&lt;/span> preg_replace(&lt;span style="color:#d14">&amp;#34;/(&lt;/span>&lt;span style="color:#d14">$type&lt;/span>&lt;span style="color:#d14">=&amp;#34;&lt;/span>)(&lt;span style="color:#000;font-weight:bold">?!&lt;/span>http)(&lt;span style="color:#000;font-weight:bold">.*?&lt;/span>)&lt;span style="color:#d14">&amp;#34;/is&amp;#34;&lt;/span>,&lt;span style="color:#d14">&amp;#34;$1&lt;/span>&lt;span style="color:#d14">$PHP_SELF&lt;/span>&lt;span style="color:#d14">?$2&amp;#34;&lt;/span>,&lt;span style="color:#008080">$subject&lt;/span>);
}
&lt;span style="color:#000;font-weight:bold">if&lt;/span>(&lt;span style="color:#000;font-weight:bold">!&lt;/span>&lt;span style="color:#000;font-weight:bold">empty&lt;/span>(&lt;span style="color:#008080">$_SERVER&lt;/span>[&lt;span style="color:#d14">&amp;#39;QUERY_STRING&amp;#39;&lt;/span>])){
&lt;span style="color:#998;font-style:italic">// Obtendo o arquivo
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#008080">$page&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> getFile(&lt;span style="color:#008080">$_SERVER&lt;/span>[&lt;span style="color:#d14">&amp;#39;QUERY_STRING&amp;#39;&lt;/span>]);
&lt;span style="color:#998;font-style:italic">// Se for arquivo de imagem, alterar seu header
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">if&lt;/span>(strpos(&lt;span style="color:#008080">$_SERVER&lt;/span>[&lt;span style="color:#d14">&amp;#39;QUERY_STRING&amp;#39;&lt;/span>],&lt;span style="color:#d14">&amp;#39;.png&amp;#39;&lt;/span>)&lt;span style="color:#000;font-weight:bold">!==&lt;/span>&lt;span style="color:#000;font-weight:bold">false&lt;/span>){ header(&lt;span style="color:#d14">&amp;#34;Content-type: image/png&amp;#34;&lt;/span>); }
&lt;span style="color:#000;font-weight:bold">else&lt;/span>{ &lt;span style="color:#008080">$page&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> changeLinks(&lt;span style="color:#008080">$page&lt;/span>, &lt;span style="color:#d14">&amp;#39;src&amp;#39;&lt;/span>); }
}
&lt;span style="color:#000;font-weight:bold">else&lt;/span> {
&lt;span style="color:#008080">$page&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> getFile(&lt;span style="color:#d14">&amp;#39;index.html&amp;#39;&lt;/span>);
&lt;span style="color:#008080">$page&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> changeLinks(&lt;span style="color:#008080">$page&lt;/span>, &lt;span style="color:#d14">&amp;#39;href&amp;#39;&lt;/span>);
&lt;span style="color:#008080">$page&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> changeLinks(&lt;span style="color:#008080">$page&lt;/span>, &lt;span style="color:#d14">&amp;#39;src&amp;#39;&lt;/span>);
}
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#008080">$page&lt;/span>;
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Verificando contas de e-mail POP3 com PHP</title><link>https://leonardofaria.net/2006/03/20/verificando-contas-de-e-mail-pop3-com-php/</link><pubDate>Mon, 20 Mar 2006 21:57:54 -0300</pubDate><guid>https://leonardofaria.net/2006/03/20/verificando-contas-de-e-mail-pop3-com-php/</guid><description>&lt;p>Escrevi uma funçãozinha que verifica a existência de emails (e informações adicionais como: assunto, remetente e data) de contas POP3, em PHP. O código está abaixo.&lt;/p>
&lt;p>Na próxima semana, postarei uma revisão desse código. A próxima versão implementará uso de CSS e Javascript, para uma interface mais interativa.&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#999;font-weight:bold;font-style:italic">&amp;lt;?php&lt;/span>
&lt;span style="color:#998;font-style:italic">/*
&lt;/span>&lt;span style="color:#998;font-style:italic">Leonardo Faria Coelho (http://www.leonardofaria.net) em 16/03/2006
&lt;/span>&lt;span style="color:#998;font-style:italic">Baseado no código de Thiago Zilli Sarmento (thiago@3dzs.com) em 01/09/2003
&lt;/span>&lt;span style="color:#998;font-style:italic">Esse script verifica a existência de e-mails em contas POP3
&lt;/span>&lt;span style="color:#998;font-style:italic">*/&lt;/span>
&lt;span style="color:#000;font-weight:bold">function&lt;/span> &lt;span style="color:#900;font-weight:bold">checa&lt;/span>(&lt;span style="color:#008080">$server&lt;/span>,&lt;span style="color:#008080">$user&lt;/span>,&lt;span style="color:#008080">$pass&lt;/span>,&lt;span style="color:#008080">$port&lt;/span>,&lt;span style="color:#008080">$name&lt;/span>) {
&lt;span style="color:#008080">$conn&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">@&lt;/span>imap_open(&lt;span style="color:#d14">&amp;#34;&lt;/span>&lt;span style="color:#d14">{&lt;/span>$server:$port/pop3&lt;span style="color:#d14">}&lt;/span>&lt;span style="color:#d14">INBOX&amp;#34;&lt;/span>,&lt;span style="color:#008080">$user&lt;/span>,&lt;span style="color:#008080">$pass&lt;/span>) &lt;span style="color:#000;font-weight:bold">or&lt;/span> &lt;span style="color:#000;font-weight:bold">die&lt;/span>(&lt;span style="color:#d14">&amp;#34;Falha na conexão!&amp;#34;&lt;/span>); &lt;span style="color:#998;font-style:italic">// Conexão com o server
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#008080">$headers&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">@&lt;/span>imap_headers(&lt;span style="color:#008080">$conn&lt;/span>) &lt;span style="color:#000;font-weight:bold">or&lt;/span> &lt;span style="color:#000;font-weight:bold">die&lt;/span>(&lt;span style="color:#d14">&amp;#34;Não existe e-mails!&amp;#34;&lt;/span>); &lt;span style="color:#998;font-style:italic">// Chamando o Headers
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span>
&lt;span style="color:#008080">$numEmails&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> sizeof(&lt;span style="color:#008080">$headers&lt;/span>); &lt;span style="color:#998;font-style:italic">// Verifica quantidade de e-mails em sua caixa postal
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;Você tem &amp;lt;b&amp;gt;&lt;/span>&lt;span style="color:#d14">$numEmails&lt;/span>&lt;span style="color:#d14">&amp;lt;/b&amp;gt; mensagens em sua caixa de correio.&amp;lt;br / /&amp;gt;&amp;#34;&lt;/span>; &lt;span style="color:#998;font-style:italic">// Mostra conteúdo
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span>
&lt;span style="color:#000;font-weight:bold">for&lt;/span> (&lt;span style="color:#008080">$i&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#099">1&lt;/span>; &lt;span style="color:#008080">$i&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span> &lt;span style="color:#008080">$numEmails&lt;/span>&lt;span style="color:#000;font-weight:bold">+&lt;/span>&lt;span style="color:#099">1&lt;/span>; &lt;span style="color:#008080">$i&lt;/span>&lt;span style="color:#000;font-weight:bold">++&lt;/span>){ &lt;span style="color:#998;font-style:italic">// Loop para gerar informações das mensagens
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span> &lt;span style="color:#008080">$mailHeader&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">@&lt;/span>imap_headerinfo(&lt;span style="color:#008080">$conn&lt;/span>, &lt;span style="color:#008080">$i&lt;/span>);
&lt;span style="color:#008080">$from&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#008080">$mailHeader&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">fromaddress&lt;/span>;
&lt;span style="color:#008080">$subject&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> strip_tags(&lt;span style="color:#008080">$mailHeader&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">subject&lt;/span>);
&lt;span style="color:#008080">$date&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#008080">$mailHeader&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">date&lt;/span>;
&lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#34;E-mail de: &lt;/span>&lt;span style="color:#d14">$from&lt;/span>&lt;span style="color:#d14"> // Subject: &lt;/span>&lt;span style="color:#d14">$subject&lt;/span>&lt;span style="color:#d14"> - (&lt;/span>&lt;span style="color:#d14">$date&lt;/span>&lt;span style="color:#d14">)&amp;lt;br /&amp;gt;&amp;#34;&lt;/span>;
}
imap_close(&lt;span style="color:#008080">$conn&lt;/span>); &lt;span style="color:#998;font-style:italic">// Termina conexão com o servidor
&lt;/span>&lt;span style="color:#998;font-style:italic">&lt;/span>}
checa(&lt;span style="color:#d14">&amp;#34;pop3.bol.com.br&amp;#34;&lt;/span>,&lt;span style="color:#d14">&amp;#34;usuário&amp;#34;&lt;/span>,&lt;span style="color:#d14">&amp;#34;senha&amp;#34;&lt;/span>,&lt;span style="color:#d14">&amp;#34;porta (geralmente 110)&amp;#34;&lt;/span>,&lt;span style="color:#d14">&amp;#34;Nome da caixa&amp;#34;&lt;/span>);
&lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>